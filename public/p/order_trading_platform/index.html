<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content="Âü∫‰∫éDjangoÂºÄÂèëÁöÑÂâçÂêéÁ´Ø‰∏çÂàÜÁ¶ªÁöÑËÆ¢Âçï‰∫§ÊòìÂπ≥Âè∞">
<title>È°πÁõÆÔºöËÆ¢Âçï‰∫§ÊòìÂπ≥Âè∞</title>

<link rel='canonical' href='https://yn0t1me.github.io/p/order_trading_platform/'>

<link rel="stylesheet" href="/scss/style.min.b9c8156d464c343bdacaf14a871581fb94cbbdb9dd5cbce4ba017361187cc930.css"><meta property='og:title' content="È°πÁõÆÔºöËÆ¢Âçï‰∫§ÊòìÂπ≥Âè∞">
<meta property='og:description' content="Âü∫‰∫éDjangoÂºÄÂèëÁöÑÂâçÂêéÁ´Ø‰∏çÂàÜÁ¶ªÁöÑËÆ¢Âçï‰∫§ÊòìÂπ≥Âè∞">
<meta property='og:url' content='https://yn0t1me.github.io/p/order_trading_platform/'>
<meta property='og:site_name' content='yn0t1meÁöÑÂçöÂÆ¢'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='Django' /><meta property='article:tag' content='python' /><meta property='article:published_time' content='2025-02-27T18:57:50&#43;08:00'/><meta property='article:modified_time' content='2025-02-27T18:57:50&#43;08:00'/>
<meta name="twitter:title" content="È°πÁõÆÔºöËÆ¢Âçï‰∫§ÊòìÂπ≥Âè∞">
<meta name="twitter:description" content="Âü∫‰∫éDjangoÂºÄÂèëÁöÑÂâçÂêéÁ´Ø‰∏çÂàÜÁ¶ªÁöÑËÆ¢Âçï‰∫§ÊòìÂπ≥Âè∞">
    <link rel="shortcut icon" href="/favicon.ico" />

    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="ÂàáÊç¢ËèúÂçï">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/avatar_hu_901763171188d896.png" width="300"
                            height="284" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">üßê</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">yn0t1meÁöÑÂçöÂÆ¢</a></h1>
            <h2 class="site-description">‰∫∫ÁîüËå´Ëå´ÔºåÂîØÊ≠ª‰∫°‰∏éÁà±ËÄåÂ∑≤</h2>
        </div>
    </header><ol class="menu-social">
            
                <li>
                    <a 
                        href='https://github.com/yn0t1me'
                        target="_blank"
                        title="GitHub"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>



                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://twitter.com'
                        target="_blank"
                        title="Twitter"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c-.002 -.249 1.51 -2.772 1.818 -4.013z" />
</svg>



                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>‰∏ªÈ°µ</span>
            </a>
        </li>
        
        
        <li >
            <a href='/about/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>ÂÖ≥‰∫é</span>
            </a>
        </li>
        
        
        <li >
            <a href='/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>ÂΩíÊ°£</span>
            </a>
        </li>
        
        
        <li >
            <a href='/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>ÊêúÁ¥¢</span>
            </a>
        </li>
        
        
        <li >
            <a href='/links/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5" />
  <path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5" />
</svg>



                
                <span>ÂèãÈìæ</span>
            </a>
        </li>
        
        <li class="menu-bottom-section">
            <ol class="menu">

                
                    <li id="dark-mode-toggle">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <span>ÊöóËâ≤Ê®°Âºè</span>
                    </li>
                
            </ol>
        </li>
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">ÁõÆÂΩï</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#ÂçïÁÇπÁü•ËØÜ">ÂçïÁÇπÁü•ËØÜ</a>
      <ol>
        <li><a href="#ÂèëÈÄÅÁü≠‰ø°">ÂèëÈÄÅÁü≠‰ø°</a></li>
        <li><a href="#ÊùÉÈôêÂíåËèúÂçïÁÆ°ÁêÜ">ÊùÉÈôêÂíåËèúÂçïÁÆ°ÁêÜ</a>
          <ol>
            <li><a href="#ËèúÂçï">ËèúÂçï</a></li>
            <li><a href="#ÊùÉÈôê">ÊùÉÈôê</a></li>
            <li><a href="#ÂÆûÁé∞ÁöÑÂâçÁΩÆÂ∞èÁü•ËØÜ">ÂÆûÁé∞ÁöÑÂâçÁΩÆÂ∞èÁü•ËØÜ</a></li>
          </ol>
        </li>
        <li><a href="#ajaxËØ∑Ê±Ç">ajaxËØ∑Ê±Ç</a></li>
        <li><a href="#csrftoken">csrftoken</a>
          <ol>
            <li><a href="#formË°®Âçï">formË°®Âçï</a></li>
            <li><a href="#ajaxÊñπÂºè">ajaxÊñπÂºè</a></li>
            <li><a href="#ÂêëÂêéÁ´ØÂèëÈÄÅËØ∑Ê±Ç">ÂêëÂêéÁ´ØÂèëÈÄÅËØ∑Ê±Ç</a></li>
            <li><a href="#csrfËÆ§ËØÅ">csrfËÆ§ËØÅ</a></li>
            <li><a href="#djangoÁöÑËá™ÂÆö‰πâËØ∑Ê±ÇÂ§¥">djangoÁöÑËá™ÂÆö‰πâËØ∑Ê±ÇÂ§¥</a></li>
          </ol>
        </li>
        <li><a href="#formÁªÑ‰ª∂">formÁªÑ‰ª∂</a>
          <ol>
            <li><a href="#Ëá™ÂÆö‰πâË°®ÂçïÁ±ª">Ëá™ÂÆö‰πâË°®ÂçïÁ±ª</a></li>
            <li><a href="#Ëá™ÂÆö‰πâÈîôËØØÂ≠óÊÆµ‰ø°ÊÅØ">Ëá™ÂÆö‰πâÈîôËØØÂ≠óÊÆµ‰ø°ÊÅØ</a></li>
            <li><a href="#Ëá™ÂÆö‰πâË°®ÂçïËæìÂÖ•widget">Ëá™ÂÆö‰πâË°®ÂçïËæìÂÖ•<code>widget</code></a></li>
            <li><a href="#Ë°®ÂçïÁöÑÂÆû‰æãÂåñ‰∏éÂàùÂßãÂåñ">Ë°®ÂçïÁöÑÂÆû‰æãÂåñ‰∏éÂàùÂßãÂåñ</a></li>
            <li><a href="#Ë°®ÂçïÁöÑ‰ΩøÁî®">Ë°®ÂçïÁöÑ‰ΩøÁî®</a></li>
            <li><a href="#ÁªßÊâøformÁ±ª">ÁªßÊâøFormÁ±ª</a></li>
            <li><a href="#ÁªßÊâømodelformÁ±ª">ÁªßÊâøModelFormÁ±ª</a></li>
            <li><a href="#formÁöÑÊ†°È™åÊµÅÁ®ã">formÁöÑÊ†°È™åÊµÅÁ®ã</a></li>
            <li><a href="#formÊ†∑ÂºèËÆæÁΩÆ">formÊ†∑ÂºèËÆæÁΩÆ</a></li>
            <li><a href="#formÁªÑ‰ª∂Âü∫Êú¨Êìç‰Ωú">formÁªÑ‰ª∂Âü∫Êú¨Êìç‰Ωú</a></li>
          </ol>
        </li>
        <li><a href="#model">Model</a>
          <ol>
            <li><a href="#‰øÆÊîπÊü•ËØ¢Êù°‰ª∂">‰øÆÊîπÊü•ËØ¢Êù°‰ª∂</a></li>
          </ol>
        </li>
        <li><a href="#Ê®°Êùø">Ê®°Êùø</a>
          <ol>
            <li><a href="#ÊØçÁâà">ÊØçÁâà</a></li>
            <li><a href="#inclusion_tag">inclusion_tag</a></li>
          </ol>
        </li>
        <li><a href="#ÈòüÂàó">ÈòüÂàó</a></li>
        <li><a href="#workerÂíåÁ∫øÊÄßÊ±†">workerÂíåÁ∫øÊÄßÊ±†</a></li>
        <li><a href="#ÂàÜÈ°µÁªÑ‰ª∂">ÂàÜÈ°µÁªÑ‰ª∂</a>
          <ol>
            <li><a href="#ÈÄâÈ°πÁîüÊàê">ÈÄâÈ°πÁîüÊàê</a></li>
            <li><a href="#È°µÁ†ÅÈÄªËæëÂíåÂä®ÊÄÅÈ°µÁ†Å">È°µÁ†ÅÈÄªËæëÂíåÂä®ÊÄÅÈ°µÁ†Å</a></li>
            <li><a href="#ÂàÜÈ°µÁªÑ‰ª∂ÁöÑÂ∞ÅË£Ö">ÂàÜÈ°µÁªÑ‰ª∂ÁöÑÂ∞ÅË£Ö</a></li>
            <li><a href="#‰ºòÂåñ">‰ºòÂåñ</a></li>
            <li><a href="#querydict">querydict</a></li>
            <li><a href="#Ëß£ÂÜ≥urlÂèÇÊï∞Êê∫Â∏¶ÈóÆÈ¢ò">Ëß£ÂÜ≥urlÂèÇÊï∞Êê∫Â∏¶ÈóÆÈ¢ò</a></li>
            <li><a href="#ÊúÄÁªàÁâà">ÊúÄÁªàÁâà</a></li>
          </ol>
        </li>
        <li><a href="#ÊêúÁ¥¢ÁªÑ‰ª∂">ÊêúÁ¥¢ÁªÑ‰ª∂</a>
          <ol>
            <li><a href="#qÂØπË±°">QÂØπË±°</a></li>
            <li><a href="#ÊôÆÈÄöÊêúÁ¥¢">ÊôÆÈÄöÊêúÁ¥¢</a></li>
            <li><a href="#ÁªÑÂêàÊêúÁ¥¢">ÁªÑÂêàÊêúÁ¥¢</a></li>
          </ol>
        </li>
        <li><a href="#ÊùÉÈôêÊåâÈíÆ">ÊùÉÈôêÊåâÈíÆ</a>
          <ol>
            <li><a href="#Âú®Ê®°Êùø‰∏≠Ëá™ÂÆö‰πâÊñπÊ≥ï">Âú®Ê®°Êùø‰∏≠Ëá™ÂÆö‰πâÊñπÊ≥ï</a></li>
            <li><a href="#ÂèçÂêëÁîüÊàêurl">ÂèçÂêëÁîüÊàêURL</a></li>
            <li><a href="#ÂÆûÁé∞">ÂÆûÁé∞</a></li>
          </ol>
        </li>
        <li><a href="#Ë∑≥ËΩ¨ÈìæÊé•">Ë∑≥ËΩ¨ÈìæÊé•</a></li>
        <li><a href="#‰∫ãÂä°">‰∫ãÂä°</a>
          <ol>
            <li><a href="#‰ªãÁªç">‰ªãÁªç</a></li>
            <li><a href="#mysqlÂÆ¢Êà∑Á´Ø">MySQLÂÆ¢Êà∑Á´Ø</a></li>
            <li><a href="#python‰ª£Á†Å">Python‰ª£Á†Å</a></li>
            <li><a href="#djangoÊìç‰Ωú">DjangoÊìç‰Ωú</a></li>
          </ol>
        </li>
        <li><a href="#ÈîÅ">ÈîÅ</a>
          <ol>
            <li><a href="#‰ªãÁªç-1">‰ªãÁªç</a></li>
          </ol>
        </li>
        <li><a href="#messageÁªÑ‰ª∂">MessageÁªÑ‰ª∂</a>
          <ol>
            <li><a href="#ÈÖçÁΩÆ">ÈÖçÁΩÆ</a></li>
            <li><a href="#ËØªÂèñÂÄº">ËØªÂèñÂÄº</a></li>
            <li><a href="#Ê∫êÁ†ÅÂàÜÊûê">Ê∫êÁ†ÅÂàÜÊûê</a></li>
          </ol>
        </li>
        <li><a href="#ÁªÑÂêàÊêúÁ¥¢-1">ÁªÑÂêàÊêúÁ¥¢</a>
          <ol>
            <li><a href="#‰ΩøÁî®">‰ΩøÁî®</a></li>
          </ol>
        </li>
        <li><a href="#ÊùÇ">ÊùÇ</a>
          <ol>
            <li><a href="#Âú®ÂÖ®Â±ÄÂèòÈáè‰∏≠ÂÆö‰πâËá™Â∑±ÁöÑ‰∏ìÂ±ûÈÖçÁΩÆ">Âú®ÂÖ®Â±ÄÂèòÈáè‰∏≠ÂÆö‰πâËá™Â∑±ÁöÑ‰∏ìÂ±ûÈÖçÁΩÆ</a></li>
            <li><a href="#Èù¢ÂêëÂØπË±°Â∞èÁü•ËØÜ">Èù¢ÂêëÂØπË±°Â∞èÁü•ËØÜ</a></li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#È°πÁõÆ">È°πÁõÆ</a>
      <ol>
        <li><a href="#Áî®Êà∑ËÆ§ËØÅÁõ∏ÂÖ≥">Áî®Êà∑ËÆ§ËØÅÁõ∏ÂÖ≥</a>
          <ol>
            <li><a href="#Áî®Êà∑ÂêçÂØÜÁ†ÅÁôªÂΩï">Áî®Êà∑ÂêçÂØÜÁ†ÅÁôªÂΩï</a></li>
            <li><a href="#ÊâãÊú∫È™åËØÅÁ†ÅÁôªÂΩï">ÊâãÊú∫È™åËØÅÁ†ÅÁôªÂΩï</a></li>
          </ol>
        </li>
        <li><a href="#ËèúÂçïÂíåÊùÉÈôê">ËèúÂçïÂíåÊùÉÈôê</a>
          <ol>
            <li><a href="#ËÆøÈóÆÊùÉÈôê">ËÆøÈóÆÊùÉÈôê</a></li>
            <li><a href="#ÊåâÈíÆÊòæÁ§∫ÊùÉÈôê">ÊåâÈíÆÊòæÁ§∫ÊùÉÈôê</a></li>
          </ol>
        </li>
        <li><a href="#Á∫ßÂà´ÁÆ°ÁêÜ">Á∫ßÂà´ÁÆ°ÁêÜ</a>
          <ol>
            <li><a href="#Á∫ßÂà´ÂàóË°®">Á∫ßÂà´ÂàóË°®</a></li>
            <li><a href="#Êñ∞Â¢ûÁ∫ßÂà´">Êñ∞Â¢ûÁ∫ßÂà´</a></li>
            <li><a href="#ÁºñËæëÁ∫ßÂà´">ÁºñËæëÁ∫ßÂà´</a></li>
            <li><a href="#Âà†Èô§Á∫ßÂà´">Âà†Èô§Á∫ßÂà´</a></li>
          </ol>
        </li>
        <li><a href="#ÂÆ¢Êà∑ÁÆ°ÁêÜ">ÂÆ¢Êà∑ÁÆ°ÁêÜ</a>
          <ol>
            <li><a href="#ÂÆ¢Êà∑ÂàóË°®">ÂÆ¢Êà∑ÂàóË°®</a></li>
            <li><a href="#Êñ∞Âª∫ÂÆ¢Êà∑">Êñ∞Âª∫ÂÆ¢Êà∑</a></li>
            <li><a href="#ÁºñËæëÂÆ¢Êà∑">ÁºñËæëÂÆ¢Êà∑</a></li>
            <li><a href="#ÈáçÁΩÆÂØÜÁ†Å">ÈáçÁΩÆÂØÜÁ†Å</a></li>
            <li><a href="#Âà†Èô§ÂÆ¢Êà∑ÂØπËØùÊ°ÜÂíåajax">Âà†Èô§ÂÆ¢Êà∑ÔºàÂØπËØùÊ°ÜÂíåajaxÔºâ</a></li>
            <li><a href="#‰∫§ÊòìËÆ∞ÂΩïÂàóË°®">‰∫§ÊòìËÆ∞ÂΩïÂàóË°®</a></li>
            <li><a href="#ÂÖÖÂÄºÂíåÊâ£Ê¨æÂØπËØùÊ°Ü">ÂÖÖÂÄºÂíåÊâ£Ê¨æÔºàÂØπËØùÊ°ÜÔºâ</a></li>
            <li><a href="#"><img src="/post/python/order_trading_platform/1732714253476-a85ee918-3e85-4bc0-9420-fb090b70999e.png" alt=""></a></li>
          </ol>
        </li>
        <li><a href="#‰ª∑Ê†ºÁ≠ñÁï•">‰ª∑Ê†ºÁ≠ñÁï•</a>
          <ol>
            <li><a href="#‰ª∑Ê†ºÁ≠ñÁï•ÂàóË°®">‰ª∑Ê†ºÁ≠ñÁï•ÂàóË°®</a></li>
            <li><a href="#Êñ∞Âª∫‰ª∑Ê†ºÁ≠ñÁï•">Êñ∞Âª∫‰ª∑Ê†ºÁ≠ñÁï•</a></li>
            <li><a href="#ÁºñËæë‰ª∑Ê†ºÁ≠ñÁï•">ÁºñËæë‰ª∑Ê†ºÁ≠ñÁï•</a></li>
            <li><a href="#Âà†Èô§‰ª∑Ê†ºÁ≠ñÁï•">Âà†Èô§‰ª∑Ê†ºÁ≠ñÁï•</a></li>
          </ol>
        </li>
        <li><a href="#ËÆ¢ÂçïÁÆ°ÁêÜÁî®Êà∑">ËÆ¢ÂçïÁÆ°ÁêÜÔºàÁî®Êà∑Ôºâ</a>
          <ol>
            <li><a href="#ÊàëÁöÑËÆ¢ÂçïÂàóË°®">ÊàëÁöÑËÆ¢ÂçïÂàóË°®</a></li>
            <li><a href="#Êñ∞Âª∫ËÆ¢Âçï">Êñ∞Âª∫ËÆ¢Âçï</a></li>
            <li><a href="#Êí§ÈîÄËÆ¢Âçï">Êí§ÈîÄËÆ¢Âçï</a></li>
          </ol>
        </li>
        <li><a href="#ÊàëÁöÑ‰∫§ÊòìËÆ∞ÂΩï">ÊàëÁöÑ‰∫§ÊòìËÆ∞ÂΩï</a>
          <ol>
            <li><a href="#ÂÆ¢Êà∑">ÂÆ¢Êà∑</a></li>
            <li><a href="#ÁÆ°ÁêÜÂëò">ÁÆ°ÁêÜÂëò</a></li>
          </ol>
        </li>
        <li><a href="#worker">Worker</a></li>
      </ol>
    </li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


            <main class="main full-width">
    <article class="main-article">
    <header class="article-header">

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/python/" style="background-color: #2a9d8f; color: #fff;">
                Python
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/p/order_trading_platform/">È°πÁõÆÔºöËÆ¢Âçï‰∫§ÊòìÂπ≥Âè∞</a>
        </h2>
    
        
        <h3 class="article-subtitle">
            Âü∫‰∫éDjangoÂºÄÂèëÁöÑÂâçÂêéÁ´Ø‰∏çÂàÜÁ¶ªÁöÑËÆ¢Âçï‰∫§ÊòìÂπ≥Âè∞
        </h3>
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Feb 27, 2025</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    ÈòÖËØªÊó∂Èïø: 28 ÂàÜÈíü
                </time>
            </div>
        
    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
    
    <p>ÂΩìÊó∂Ë∑üÁùÄÂ≠¶ÁöÑÊó∂ÂÄôËøòÊ≤°ÂÖªÊàêÂÅöÁ¨îËÆ∞ÁöÑ‰π†ÊÉØÔºåÂõ†Ê≠§ËØ•ÊñáÊòØ‰∫ãÂêéÂ§ç‰π†Êó∂ÂÜôÁöÑÔºåÂÜÖÂÆπÊúâ‰∫õÂáå‰π±ÔºåËßÅË∞Ö</p>
<p>Ê†∏ÂøÉÁöÑÂäüËÉΩÊ®°Âùó</p>
<ul>
<li>ËÆ§ËØÅÊ®°ÂùóÔºåÁî®Êà∑ÂêçÂØÜÁ†ÅÁôªÂΩïÊàñÊî∂ÈõÜÁü≠‰ø°ÁôªÂΩïÔºà60sÊúâÊïàÔºâ</li>
<li>ËßíËâ≤ÁÆ°ÁêÜÔºå‰∏çÂêåËßíËâ≤Êúâ‰∏çÂêåÊùÉÈôêÂíåÂ±ïÁ§∫‰∏çÂêåËèúÂçï</li>
<li>ÂÆ¢Êà∑ÁÆ°ÁêÜÔºåÂØπÂÆ¢Êà∑ÂàÜÁ∫ßÔºåÂÆ¢Êà∑ÁöÑÂ¢ûÂà†ÊîπÊü•Êìç‰Ωú</li>
<li>‰∫§Êòì‰∏≠ÂøÉ
<ul>
<li>ÁÆ°ÁêÜÂëòÁªôÂÆ¢Êà∑ÂÖÖÂÄºÊâ£Ë¥π</li>
<li>ÂÆ¢Êà∑ÂèØ‰ª•‰∏ãÂçïÊí§Âçï</li>
<li>ÁîüÊàê‰∫§ÊòìËÆ∞ÂΩï</li>
<li>ÂØπËÆ¢ÂçïËøõË°åÂ§öÁª¥Â∫¶ÊêúÁ¥¢</li>
</ul>
</li>
<li>wordkerÔºåÊâßË°åËÆ¢ÂçïÂπ∂Êõ¥Êñ∞ËÆ¢ÂçïÁä∂ÊÄÅ</li>
</ul>
<h2 id="ÂçïÁÇπÁü•ËØÜ">ÂçïÁÇπÁü•ËØÜ
</h2><h3 id="ÂèëÈÄÅÁü≠‰ø°">ÂèëÈÄÅÁü≠‰ø°
</h3><p>ÈòøÈáå‰∫ëÁü≠‰ø°ÊúçÂä°Êù•ËøõË°åÂèëÈÄÅÁü≠‰ø°</p>
<ul>
<li>Ê≥®ÂÜåË¥¶Âè∑</li>
<li>ÂºÄÈÄöÊúçÂä° + Áº¥Ë¥π</li>
<li>APIÊúçÂä°„ÄÅSDKÊúçÂä°
<ul>
<li>APIÊé•Âè£</li>
</ul>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">requests</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Â§ÑÁêÜÁ≠æÂêçÂíåÂä†ÂØÜ</span>
</span></span><span class="line"><span class="cl"><span class="n">res</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&#34;......&#34;</span><span class="p">,</span><span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&#34;key&#34;</span><span class="p">:</span><span class="s2">&#34;xxx&#34;</span><span class="p">,</span><span class="s1">&#39;token&#39;</span><span class="p">:</span><span class="s1">&#39;...&#39;</span><span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><pre><code>- SDKÊúçÂä°
</code></pre>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">pip</span> <span class="n">install</span> <span class="n">aliyun</span><span class="o">-</span><span class="n">python</span><span class="o">-</span><span class="n">sdk</span><span class="o">-</span><span class="n">core</span>
</span></span><span class="line"><span class="cl"><span class="n">pip</span> <span class="n">install</span> <span class="n">aliyun</span><span class="o">-</span><span class="n">python</span><span class="o">-</span><span class="n">sdk</span><span class="o">-</span><span class="n">dysmsapi</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">xxxx</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">xxxxx</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Á§∫‰æã</p>
<p>‰ªÖ‰ΩúÂèÇËÄÉÔºåÂÖ∑‰ΩìÊé®Ëçê‰æùÁÖßÂÆòÊñπÊñáÊ°£ËøõË°åÈÖçÁΩÆ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">aliyunsdkcore.client</span> <span class="kn">import</span> <span class="n">AcsClient</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">aliyunsdkcore.request</span> <span class="kn">import</span> <span class="n">CommonRequest</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">json</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">sendSms</span><span class="p">(</span><span class="n">phone</span><span class="p">,</span> <span class="n">message</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># ÊõøÊç¢‰∏∫‰Ω†ÁöÑAccessKey‰ø°ÊÅØ</span>
</span></span><span class="line"><span class="cl">    <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">ACCESS_KEY_ID</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
</span></span><span class="line"><span class="cl">        <span class="n">ACCESS_KEY_SECRET</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
</span></span><span class="line"><span class="cl">        <span class="n">SIGN_NAME</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>  <span class="c1"># Á≠æÂêçÂêçÁß∞</span>
</span></span><span class="line"><span class="cl">        <span class="n">TEMPLATE_CODE</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>  <span class="c1"># Ê®°ÊùøCODE</span>
</span></span><span class="line"><span class="cl">        <span class="n">PHONE_NUMBER</span> <span class="o">=</span> <span class="n">phone</span>  <span class="c1"># ÁªëÂÆöÁöÑÊµãËØïÊâãÊú∫Âè∑</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">acs_client</span> <span class="o">=</span> <span class="n">AcsClient</span><span class="p">(</span><span class="n">ACCESS_KEY_ID</span><span class="p">,</span> <span class="n">ACCESS_KEY_SECRET</span><span class="p">,</span> <span class="n">TEMPLATE_CODE</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">request</span> <span class="o">=</span> <span class="n">CommonRequest</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="n">request</span><span class="o">.</span><span class="n">set_accept_format</span><span class="p">(</span><span class="s1">&#39;json&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">request</span><span class="o">.</span><span class="n">set_domain</span><span class="p">(</span><span class="s1">&#39;dysmsapi.aliyuncs.com&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">request</span><span class="o">.</span><span class="n">set_method</span><span class="p">(</span><span class="s1">&#39;POST&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">request</span><span class="o">.</span><span class="n">set_version</span><span class="p">(</span><span class="s1">&#39;2017-05-25&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">request</span><span class="o">.</span><span class="n">set_action_name</span><span class="p">(</span><span class="s1">&#39;SendSms&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1"># ËÆæÁΩÆÁü≠‰ø°Ê®°ÊùøÂèÇÊï∞</span>
</span></span><span class="line"><span class="cl">        <span class="n">request</span><span class="o">.</span><span class="n">add_query_param</span><span class="p">(</span><span class="s1">&#39;PhoneNumbers&#39;</span><span class="p">,</span> <span class="n">PHONE_NUMBER</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">request</span><span class="o">.</span><span class="n">add_query_param</span><span class="p">(</span><span class="s1">&#39;SignName&#39;</span><span class="p">,</span> <span class="n">SIGN_NAME</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">request</span><span class="o">.</span><span class="n">add_query_param</span><span class="p">(</span><span class="s1">&#39;TemplateCode&#39;</span><span class="p">,</span> <span class="n">TEMPLATE_CODE</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">request</span><span class="o">.</span><span class="n">add_query_param</span><span class="p">(</span><span class="s1">&#39;TemplateParam&#39;</span><span class="p">,</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">({</span><span class="s2">&#34;code&#34;</span><span class="p">:</span> <span class="n">message</span><span class="p">}))</span>  <span class="c1"># Ê®°Êùø‰∏≠ÁöÑÂèòÈáèÊõøÊç¢‰∏∫ÂÆûÈôÖÁöÑÂÄº</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1"># ÂèëÈÄÅÁü≠‰ø°ËØ∑Ê±ÇÂπ∂Ëé∑ÂèñËøîÂõûÁªìÊûú</span>
</span></span><span class="line"><span class="cl">        <span class="n">response</span> <span class="o">=</span> <span class="n">acs_client</span><span class="o">.</span><span class="n">do_action_with_exception</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">response_str</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">response_dict</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">response_str</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">response_dict</span><span class="p">[</span><span class="s1">&#39;Code&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&#34;OK&#34;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl">    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">pass</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ÊùÉÈôêÂíåËèúÂçïÁÆ°ÁêÜ">ÊùÉÈôêÂíåËèúÂçïÁÆ°ÁêÜ
</h3><h4 id="ËèúÂçï">ËèúÂçï
</h4><ul>
<li>È°µÈù¢ÂÜôÊ≠ª</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="o">&lt;</span><span class="n">html</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span><span class="o">%</span> <span class="k">if</span> <span class="n">ËßíËâ≤</span> <span class="s2">&#34;ÁÆ°ÁêÜÂëò&#34;</span><span class="o">%</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">    	<span class="o">&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">&#34;/xxx/x&#34;</span><span class="o">&gt;</span><span class="n">Áî®Êà∑ÁÆ°ÁêÜ</span><span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">    	<span class="o">&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">&#34;/xxx/x&#34;</span><span class="o">&gt;</span><span class="n">Á∫ßÂà´ÁÆ°ÁêÜ</span><span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">    	<span class="o">&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">&#34;/xxx/x&#34;</span><span class="o">&gt;</span><span class="n">Á∫ßÂà´ÁÆ°ÁêÜ</span><span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">    	<span class="o">...</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span><span class="o">%</span> <span class="k">else</span> <span class="o">%</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">    	<span class="o">&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">&#34;/xxx/x&#34;</span><span class="o">&gt;</span><span class="n">xxxÁÆ°ÁêÜ</span><span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">    	<span class="o">&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">&#34;/xxx/x&#34;</span><span class="o">&gt;</span><span class="n">Á∫ßÂà´ÁÆ°ÁêÜ</span><span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span><span class="o">%</span> <span class="n">endif</span> <span class="o">%</span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;/</span><span class="n">html</span><span class="o">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>ËèúÂçïÊîæÂú®ÈÖçÁΩÆÊñá‰ª∂</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># settings.py</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">ADMIN</span> <span class="o">=</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span><span class="s2">&#34;title&#34;</span><span class="p">:</span><span class="s2">&#34;Áî®Êà∑ÁÆ°ÁêÜ&#34;</span><span class="p">,</span> <span class="s2">&#34;url&#34;</span><span class="p">:</span><span class="s2">&#34;....&#34;</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span><span class="s2">&#34;title&#34;</span><span class="p">:</span><span class="s2">&#34;Áî®Êà∑ÁÆ°ÁêÜ&#34;</span><span class="p">,</span> <span class="s2">&#34;url&#34;</span><span class="p">:</span><span class="s2">&#34;....&#34;</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span><span class="s2">&#34;title&#34;</span><span class="p">:</span><span class="s2">&#34;Áî®Êà∑ÁÆ°ÁêÜ&#34;</span><span class="p">,</span> <span class="s2">&#34;url&#34;</span><span class="p">:</span><span class="s2">&#34;....&#34;</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span><span class="s2">&#34;title&#34;</span><span class="p">:</span><span class="s2">&#34;Áî®Êà∑ÁÆ°ÁêÜ&#34;</span><span class="p">,</span> <span class="s2">&#34;url&#34;</span><span class="p">:</span><span class="s2">&#34;....&#34;</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">USER</span> <span class="o">=</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span><span class="s2">&#34;title&#34;</span><span class="p">:</span><span class="s2">&#34;Áî®Êà∑ÁÆ°ÁêÜ&#34;</span><span class="p">,</span> <span class="s2">&#34;url&#34;</span><span class="p">:</span><span class="s2">&#34;....&#34;</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span><span class="s2">&#34;title&#34;</span><span class="p">:</span><span class="s2">&#34;Áî®Êà∑ÁÆ°ÁêÜ&#34;</span><span class="p">,</span> <span class="s2">&#34;url&#34;</span><span class="p">:</span><span class="s2">&#34;....&#34;</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span><span class="s2">&#34;title&#34;</span><span class="p">:</span><span class="s2">&#34;Áî®Êà∑ÁÆ°ÁêÜ&#34;</span><span class="p">,</span> <span class="s2">&#34;url&#34;</span><span class="p">:</span><span class="s2">&#34;....&#34;</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span><span class="s2">&#34;title&#34;</span><span class="p">:</span><span class="s2">&#34;Áî®Êà∑ÁÆ°ÁêÜ&#34;</span><span class="p">,</span> <span class="s2">&#34;url&#34;</span><span class="p">:</span><span class="s2">&#34;....&#34;</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="p">]</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="o">&lt;</span><span class="n">html</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span><span class="o">%</span> <span class="k">if</span> <span class="n">ËßíËâ≤</span> <span class="s2">&#34;ÁÆ°ÁêÜÂëò&#34;</span><span class="o">%</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">    	<span class="p">{</span><span class="o">%</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">ADMIN</span><span class="o">%</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">		    <span class="o">&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">&#34;{{item.url}}&#34;</span><span class="o">&gt;</span><span class="p">{{</span><span class="n">item</span><span class="o">.</span><span class="n">title</span><span class="p">}}</span><span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">	    <span class="p">{</span><span class="o">%</span><span class="n">emdfor</span><span class="o">%</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span><span class="o">%</span> <span class="k">else</span> <span class="o">%</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">    	<span class="p">{</span><span class="o">%</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">USER</span><span class="o">%</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">		    <span class="o">&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">&#34;{{item.url}}&#34;</span><span class="o">&gt;</span><span class="p">{{</span><span class="n">item</span><span class="o">.</span><span class="n">title</span><span class="p">}}</span><span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">	    <span class="p">{</span><span class="o">%</span><span class="n">emdfor</span><span class="o">%</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span><span class="o">%</span> <span class="n">endif</span> <span class="o">%</span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;/</span><span class="n">html</span><span class="o">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>Â∞ÜËèúÂçï + ËßíËâ≤ÂÜôÂÖ•Êï∞ÊçÆÂ∫ì</li>
</ul>
<p><img src="/post/python/order_trading_platform/1732339379585-36fe528c-6de1-4063-8dd3-410112a3d40c.png"
	
	
	
	loading="lazy"
	
	
></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># Âú®È°µÈù¢Â±ïÁ§∫Êï∞ÊçÆÂ∫ì</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 1.Êü•ËØ¢ÁâπÂÆöËßíËâ≤ÂÖ≥ËÅîÁöÑÊâÄÊúâÁöÑËèúÂçï</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 2.Âú®È°µÈù¢‰∏äËøõË°åÂ±ïÁ§∫</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Â¶ÇÊûúÈÄâÊã©ÈÖçÁΩÆÊñá‰ª∂ÁöÑÊñπÂºèÔºö</p>
<ul>
<li>ËèúÂçïÈÖçÁΩÆ</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">ADMIN</span> <span class="o">=</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;title&#34;</span><span class="p">:</span><span class="s2">&#34;Áî®Êà∑ÁÆ°ÁêÜ&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;children&#34;</span><span class="p">:[</span>
</span></span><span class="line"><span class="cl">            <span class="p">{</span><span class="s2">&#34;title&#34;</span><span class="p">:</span><span class="s2">&#34;Á∫ßÂà´ÂàóË°®&#34;</span><span class="p">,</span><span class="s2">&#34;url&#34;</span><span class="p">:</span><span class="s2">&#34;....&#34;</span><span class="p">,</span> <span class="s2">&#34;name&#34;</span><span class="p">:</span><span class="s2">&#34;level_list&#34;</span><span class="p">,}</span>
</span></span><span class="line"><span class="cl">            <span class="p">{</span><span class="s2">&#34;title&#34;</span><span class="p">:</span><span class="s2">&#34;Á∫ßÂà´ÂàóË°®&#34;</span><span class="p">,</span><span class="s2">&#34;url&#34;</span><span class="p">:</span><span class="s2">&#34;....&#34;</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">{</span><span class="s2">&#34;title&#34;</span><span class="p">:</span><span class="s2">&#34;Á∫ßÂà´ÂàóË°®&#34;</span><span class="p">,</span><span class="s2">&#34;url&#34;</span><span class="p">:</span><span class="s2">&#34;....&#34;</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;title&#34;</span><span class="p">:</span><span class="s2">&#34;ËÆ¢ÂçïÁÆ°ÁêÜ&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;children&#34;</span><span class="p">:[</span>
</span></span><span class="line"><span class="cl">            <span class="p">{</span><span class="s2">&#34;title&#34;</span><span class="p">:</span><span class="s2">&#34;ËÆ¢ÂçïÂàóË°®&#34;</span><span class="p">,</span><span class="s2">&#34;url&#34;</span><span class="p">:</span><span class="s2">&#34;....&#34;</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">{</span><span class="s2">&#34;title&#34;</span><span class="p">:</span><span class="s2">&#34;ËÆ¢ÂçïÂàóË°®&#34;</span><span class="p">,</span><span class="s2">&#34;url&#34;</span><span class="p">:</span><span class="s2">&#34;....&#34;</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">{</span><span class="s2">&#34;title&#34;</span><span class="p">:</span><span class="s2">&#34;ËÆ¢ÂçïÂàóË°®&#34;</span><span class="p">,</span><span class="s2">&#34;url&#34;</span><span class="p">:</span><span class="s2">&#34;....&#34;</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="p">]</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>ËèúÂçïÈÄâ‰∏≠ÂíåÂ±ïÂºÄÈóÆÈ¢ò</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="mf">1.</span><span class="n">Ëé∑ÂèñÂΩìÂâçÁî®Êà∑ËØ∑Ê±ÇÁöÑ</span> <span class="n">URL</span> <span class="n">pricepolicy</span><span class="o">/</span><span class="nb">list</span><span class="o">/</span> <span class="n">Êàñ</span> <span class="n">urlÂØπÂ∫îÁöÑname</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="mf">2.</span> <span class="n">pricepolicy</span><span class="o">/</span><span class="nb">list</span><span class="o">/</span> <span class="n">ÈÖçÁΩÆ</span> <span class="n">ADMIN‰∏≠ÁöÑURL</span>   <span class="o">-&gt;</span><span class="n">ÈªòËÆ§ÈÄâ‰∏≠</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>Ë∑ØÂæÑÂØºÂØºËà™ÈóÆÈ¢ò</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="mf">1.</span><span class="n">Ëé∑ÂèñÂΩìÂâçÁî®Êà∑ËØ∑Ê±ÇÁöÑ</span> <span class="n">URL</span>   <span class="n">pricepolicy</span><span class="o">/</span><span class="nb">list</span><span class="o">/</span> <span class="n">Êàñ</span> <span class="n">urlÂØπÂ∫îÁöÑname</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="mf">2.</span><span class="n">Ëé∑Âèñ‰∏äÁ∫ß</span><span class="err">Ôºå</span><span class="n">Â±ïÁ§∫ÂØºËà™‰ø°ÊÅØ</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="mf">3.</span><span class="n">ËÆæÁΩÆËèúÂçï‰∏é‰∏ãÁ∫ßÂÖ≥Á≥ª</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ÊãìÂ±ïÔºöËèúÂçïÂ§öÁ∫ßÂÖ≥Á≥ª</p>
<p><img src="/post/python/order_trading_platform/1732339989906-a9856733-c818-43dd-8bac-d93df45a45fa.png"
	
	
	
	loading="lazy"
	
	
></p>
<h4 id="ÊùÉÈôê">ÊùÉÈôê
</h4><p>ÊùÉÈôêÁöÑÂà§ÂÆöÔºåË¶ÅËÄÉËôëÔºöÊ≠£Â∏∏ÁöÑÁÇπÂáª„ÄÅÈùûÊ≥ïÁöÑËæìÂÖ•</p>
<ul>
<li>Êñá‰ª∂settings.pyÁöÑÊñπÂºè</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">admin_permisions</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;level_list&#34;</span><span class="p">:{</span><span class="o">...</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;level_edit&#34;</span><span class="p">:{</span><span class="o">...</span><span class="p">,</span> <span class="s1">&#39;parent&#39;</span><span class="p">:</span><span class="s1">&#39;level_list&#39;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;level_add&#34;</span><span class="p">:{</span><span class="o">...</span> <span class="s1">&#39;parent&#39;</span><span class="p">:</span><span class="s1">&#39;level_list&#39;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;level_delete&#34;</span><span class="p">:{</span><span class="o">..</span><span class="s1">&#39;parent&#39;</span><span class="p">:</span><span class="s1">&#39;level_list&#39;</span><span class="o">.</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;user_list&#34;</span><span class="p">:{</span><span class="o">...</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;user_edit&#34;</span><span class="p">:{</span><span class="o">...</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;user_add&#34;</span><span class="p">:{</span><span class="o">...</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;user_delete&#34;</span><span class="p">:{</span><span class="o">...</span><span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">user_permisions</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="o">...</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">adminËÆøÈóÆÊüê‰∏™URL</span> <span class="o">+</span> <span class="n">Ë∑ØÁî±‰ø°ÊÅØ</span><span class="err">Ôºà</span><span class="n">name</span><span class="err">Ôºå</span><span class="n">namespace</span><span class="err">ÔºâÔºå</span><span class="n">Ëé∑ÂèñÂΩìÂâçURL</span> <span class="o">/</span><span class="n">level</span><span class="o">/</span><span class="n">dedit</span><span class="o">/</span><span class="mi">4</span><span class="o">/</span> <span class="o">-&gt;</span> <span class="n">ÊòØÂê¶Â≠òÂú®URL</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">Âú®‰∏≠Èó¥‰ª∂‰∏≠Ê†πÊçÆURL‰∏≠ÁöÑnameËøõË°åÊùÉÈôêÁöÑÊ†°È™å</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>Êï∞ÊçÆÂ∫ìÊñπÂºè</li>
</ul>
<p><img src="/post/python/order_trading_platform/1732349583777-e301bcc2-78a6-4951-bd36-e46f5e864674.png"
	
	
	
	loading="lazy"
	
	
></p>
<h4 id="ÂÆûÁé∞ÁöÑÂâçÁΩÆÂ∞èÁü•ËØÜ">ÂÆûÁé∞ÁöÑÂâçÁΩÆÂ∞èÁü•ËØÜ
</h4><ul>
<li>‰∏≠Èó¥‰ª∂</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">process_request</span><span class="err">Ôºå</span><span class="n">Âü∫‰∫é‰ªñÂÆûÁé∞Áî®Êà∑ÊòØÂê¶Â∑≤ÁôªÂΩï</span><span class="err">Ôºå</span><span class="n">ÁªßÁª≠</span><span class="err">Ôºõ</span><span class="n">Êú™ÁôªÂΩïÂàôËøîÂõûÁôªÂΩïÁïåÈù¢</span><span class="err">„ÄÇ</span>
</span></span><span class="line"><span class="cl">	<span class="o">-</span> <span class="k">return</span> <span class="kc">None</span><span class="err">Ôºå</span><span class="n">ÁªßÁª≠ÂêëÂêéËÆøÈóÆ</span>
</span></span><span class="line"><span class="cl">	<span class="o">-</span> <span class="k">return</span> <span class="n">ÂØπË±°</span><span class="err">Ôºå</span><span class="n">Áõ¥Êé•ËøîÂõû</span><span class="err">„ÄÇ</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl"><span class="n">process_view</span><span class="err">Ôºå</span><span class="n">ÊùÉÈôêÊ†°È™å</span>
</span></span><span class="line"><span class="cl">	<span class="o">-</span> <span class="k">return</span> <span class="kc">None</span><span class="err">Ôºå</span><span class="n">ÁªßÁª≠ÂêëÂêéËÆøÈóÆ</span>
</span></span><span class="line"><span class="cl">	<span class="o">-</span> <span class="k">return</span> <span class="n">ÂØπË±°</span><span class="err">Ôºå</span><span class="n">Áõ¥Êé•ËøîÂõû</span><span class="err">„ÄÇ</span>
</span></span><span class="line"><span class="cl">	<span class="o">-</span> <span class="n">Âú®‰ªñÁöÑrequestÂØπË±°‰∏≠Êúâ</span> <span class="n">resolver_match</span>  <span class="err">Ôºå</span><span class="n">ÂåÖÂê´ÂΩìÂâçËØ∑Ê±ÇÁöÑËßÜÂõæË∑ØÁî±‰ø°ÊÅØ</span>  <span class="o">.</span><span class="n">name</span><span class="o">-&gt;</span><span class="n">sms_login</span>
</span></span><span class="line"><span class="cl">		<span class="n">admin</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;sms_login&#39;</span><span class="p">,</span><span class="s2">&#34;xxx&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl"><span class="n">process_response</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>Èù¢ÂêëÂØπË±°</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">mapping</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&#34;1&#34;</span><span class="p">:</span> <span class="s2">&#34;ADMIN&#34;</span><span class="p">,</span> <span class="s2">&#34;2&#34;</span><span class="p">:</span> <span class="s2">&#34;CUSTOMER&#34;</span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="n">request</span><span class="o">.</span><span class="n">session</span><span class="p">[</span><span class="s1">&#39;user_info&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;role&#39;</span><span class="p">:</span> <span class="n">mapping</span><span class="p">[</span><span class="n">role</span><span class="p">],</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="n">user_object</span><span class="o">.</span><span class="n">username</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="n">user_object</span><span class="o">.</span><span class="n">id</span><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ajaxËØ∑Ê±Ç">ajaxËØ∑Ê±Ç
</h3><ul>
<li>formË°®Âçï</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="o">&lt;</span><span class="n">form</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;get&#39;</span> <span class="n">action</span><span class="o">=</span><span class="s1">&#39;xxx&#39;</span> <span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="nb">input</span> <span class="o">/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s1">&#39;submit&#39;</span> <span class="o">/&gt;</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;/</span><span class="n">form</span><span class="o">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>ajax</li>
</ul>
<p>AjaxÔºàAsynchronous JavaScript and XMLÔºâÊòØ‰∏ÄÁßçÂú®Êó†ÈúÄÈáçÊñ∞Âä†ËΩΩÊï¥‰∏™È°µÈù¢ÁöÑÊÉÖÂÜµ‰∏ãÔºå‰∏éÊúçÂä°Âô®‰∫§Êç¢Êï∞ÊçÆÂπ∂Êõ¥Êñ∞ÈÉ®ÂàÜÁΩëÈ°µÁöÑÊäÄÊúØÔºåÊú¨Ë¥®‰∏äÂ∞±ÊòØÂà©Áî®ÊµèËßàÂô®‰∏äXMLRequest</p>
<p><strong>Âü∫Êú¨Ê≠•È™§Ôºö</strong></p>
<ul>
<li>ÂàõÂª∫XMLRequestÂØπË±°</li>
<li>ÂàùÂßãÂåñËØ∑Ê±ÇÔºöÊåáÂÆöËØ∑Ê±ÇÁ±ªÂûã‰ª•ÂèäËØ∑Ê±ÇÁöÑURL</li>
<li>ÂèëÈÄÅËØ∑Ê±Ç</li>
<li>Â§ÑÁêÜÂìçÂ∫î</li>
<li>Êõ¥Êñ∞È°µÈù¢</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="o">&lt;</span><span class="n">html</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="n">head</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">    <span class="o">&lt;/</span><span class="n">head</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="n">body</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;</span><span class="n">script</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">        	 <span class="n">xhr</span> <span class="o">=</span> <span class="n">new</span> <span class="n">XMLHttpRequest</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">             <span class="n">xhr</span><span class="o">.</span><span class="n">onreadystatechange</span> <span class="o">=</span> <span class="n">function</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                 <span class="k">if</span><span class="p">(</span><span class="n">xhr</span><span class="o">.</span><span class="n">readyState</span> <span class="o">==</span> <span class="mi">4</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">                    <span class="o">//</span> <span class="n">Â∑≤ÁªèÊé•Êî∂Âà∞ÂÖ®ÈÉ®ÂìçÂ∫îÊï∞ÊçÆ</span><span class="err">Ôºå</span><span class="n">ÊâßË°å‰ª•‰∏ãÊìç‰Ωú</span>
</span></span><span class="line"><span class="cl">                    <span class="n">var</span> <span class="n">data</span> <span class="o">=</span> <span class="n">xhr</span><span class="o">.</span><span class="n">responseText</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                    <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">data</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">             <span class="p">};</span>
</span></span><span class="line"><span class="cl">             <span class="n">xhr</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="s2">&#34;/test/&#34;</span><span class="p">,</span> <span class="n">true</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl">             <span class="n">xhr</span><span class="o">.</span><span class="n">setRequestHeader</span><span class="p">(</span><span class="s1">&#39;Content-Type&#39;</span><span class="p">,</span> <span class="s1">&#39;application/x-www-form-urlencoded;&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">             <span class="n">xhr</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="s1">&#39;n1=1;n2=2;&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;/</span><span class="n">body</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;/</span><span class="n">html</span><span class="o">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Âà©Áî®jQueryÁ±ªÂ∫ìÔºåÂÜÖÈÉ®Â∞ÅË£ÖÔºå‰ΩøÁî®ÁÆÄÂçï‰∫Ü</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="o">&lt;</span><span class="n">html</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="o">...</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="n">body</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="o">&lt;</span><span class="n">script</span> <span class="n">src</span><span class="o">=</span><span class="s1">&#39;jquery.js&#39;</span><span class="o">&gt;&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;</span><span class="n">script</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">        	<span class="err">$</span><span class="o">.</span><span class="n">ajax</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">                <span class="n">url</span><span class="p">:</span><span class="s2">&#34;....&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nb">type</span><span class="p">:</span><span class="s2">&#34;post&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="n">data</span><span class="p">:{</span><span class="n">n1</span><span class="p">:</span><span class="mi">123</span><span class="p">,</span><span class="n">n2</span><span class="p">:</span><span class="mi">456</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">                <span class="n">success</span><span class="p">:</span><span class="n">function</span><span class="p">(</span><span class="n">res</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">                    <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">res</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">})</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;/</span><span class="n">body</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;/</span><span class="n">html</span><span class="o">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Â§ßËá¥Â∫îÁî®Âú∫ÊôØÔºö</p>
<ul>
<li>Êèê‰∫§Êï∞ÊçÆÔºåÈ°µÈù¢ÂèØ‰ª•Âà∑Êñ∞ -&gt; formË°®Âçï</li>
<li>Êèê‰∫§Êï∞ÊçÆÔºåÈ°µÈù¢‰∏çÊÉ≥Âà∑Êñ∞ -&gt; ajaxÂΩ¢ÂºèÊèê‰∫§</li>
</ul>
<h3 id="csrftoken">csrftoken
</h3><h4 id="formË°®Âçï">formË°®Âçï
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="o">&lt;</span><span class="n">form</span> <span class="o">...&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span><span class="o">%</span> <span class="n">csrf_token</span> <span class="o">%</span><span class="p">}</span>  
</span></span><span class="line"><span class="cl">	<span class="o">&lt;</span><span class="err">!</span><span class="o">--</span> <span class="n">Ë°®ÂçïÂ≠óÊÆµ</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&#34;submit&#34;</span> <span class="n">value</span><span class="o">=</span><span class="s2">&#34;Submit&#34;</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;/</span><span class="n">form</span><span class="o">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="ajaxÊñπÂºè">ajaxÊñπÂºè
</h4><p>ÊµèËßàÂô®ÊâìÂºÄÁΩëÂùÄÊó∂ÔºådjangoÂú®cookie‰∏≠‰πüÁªôÊàë‰ª¨ËøîÂõû‰∫Ü‰∏ÄÊÆµÂÄº„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="err">$</span><span class="o">.</span><span class="n">ajax</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">	<span class="n">url</span><span class="p">:</span><span class="s2">&#34;...&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="nb">type</span><span class="p">:</span><span class="s2">&#34;get&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="n">data</span><span class="p">:{</span><span class="n">user</span><span class="p">:</span><span class="s2">&#34;wupeiqi&#34;</span><span class="p">,</span><span class="n">pwd</span><span class="p">:</span><span class="s2">&#34;xxxx&#34;</span><span class="p">}</span><span class="err">Ôºå</span>
</span></span><span class="line"><span class="cl">	<span class="n">header</span><span class="p">:{</span>
</span></span><span class="line"><span class="cl">		<span class="s2">&#34;X-HTTP...&#34;</span><span class="p">:</span><span class="s2">&#34;cookie‰∏≠ÂÜôÁöÑÈÇ£ÊÆµÂÄº&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="p">},</span>
</span></span><span class="line"><span class="cl">	<span class="n">success</span><span class="p">:</span><span class="n">function</span><span class="p">(</span><span class="n">arg</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">		
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="ÂêëÂêéÁ´ØÂèëÈÄÅËØ∑Ê±Ç">ÂêëÂêéÁ´ØÂèëÈÄÅËØ∑Ê±Ç
</h4><ul>
<li>form - GET</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="o">&lt;</span><span class="n">form</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;GET&#39;</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl"><span class="o">&lt;/</span><span class="n">form</span><span class="o">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>form - POST</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="o">&lt;</span><span class="n">form</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;POST&#39;</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span><span class="o">%</span> <span class="n">csrf_token</span> <span class="o">%</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="o">...</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;/</span><span class="n">form</span><span class="o">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>ajax - GET</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="err">$</span><span class="o">.</span><span class="n">ajax</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">    <span class="n">url</span><span class="p">:</span> <span class="s2">&#34;/xxx/xx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nb">type</span><span class="p">:</span> <span class="s2">&#34;GET&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">data</span><span class="p">:</span> <span class="p">{</span><span class="n">mobile</span><span class="p">:</span> <span class="s2">&#34;1888888&#34;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="n">success</span><span class="p">:</span> <span class="n">function</span> <span class="p">(</span><span class="n">res</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">res</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>ajax - POST</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="err">$</span><span class="o">.</span><span class="n">ajax</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">    <span class="n">url</span><span class="p">:</span> <span class="s2">&#34;/xxx/xx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nb">type</span><span class="p">:</span> <span class="s2">&#34;POST&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">data</span><span class="p">:</span> <span class="p">{</span><span class="n">mobile</span><span class="p">:</span> <span class="s2">&#34;1888888&#34;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="n">headers</span><span class="p">:{</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;X-CSRFTOKEN&#34;</span><span class="p">:</span><span class="s2">&#34;....&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="n">success</span><span class="p">:</span> <span class="n">function</span> <span class="p">(</span><span class="n">res</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">res</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>ajax - PUT</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="err">$</span><span class="o">.</span><span class="n">ajax</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">    <span class="n">url</span><span class="p">:</span> <span class="s2">&#34;/xxx/xx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nb">type</span><span class="p">:</span> <span class="s2">&#34;PUT&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">data</span><span class="p">:</span> <span class="p">{</span><span class="n">mobile</span><span class="p">:</span> <span class="s2">&#34;1888888&#34;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="n">headers</span><span class="p">:{</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;X-CSRFTOKEN&#34;</span><span class="p">:</span><span class="s2">&#34;....&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="n">success</span><span class="p">:</span> <span class="n">function</span> <span class="p">(</span><span class="n">res</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">res</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>ajax - DELETE</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="err">$</span><span class="o">.</span><span class="n">ajax</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">    <span class="n">url</span><span class="p">:</span> <span class="s2">&#34;/xxx/xx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nb">type</span><span class="p">:</span> <span class="s2">&#34;DELETE&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">data</span><span class="p">:</span> <span class="p">{</span><span class="n">mobile</span><span class="p">:</span> <span class="s2">&#34;1888888&#34;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="n">headers</span><span class="p">:{</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;X-CSRFTOKEN&#34;</span><span class="p">:</span><span class="s2">&#34;....&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="n">success</span><span class="p">:</span> <span class="n">function</span> <span class="p">(</span><span class="n">res</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">res</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>ajax - serialize</li>
</ul>
<blockquote>
<p>Êê∫Â∏¶ÊâÄÊúâÂèÇÊï∞ÔºåÂåÖÊã¨csrftoken</p></blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="err">$</span><span class="o">.</span><span class="n">ajax</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">    <span class="n">url</span><span class="p">:</span><span class="s2">&#34;/sms/login/&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nb">type</span><span class="p">:</span><span class="s2">&#34;POST&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">data</span><span class="p">:</span><span class="err">$</span><span class="p">(</span><span class="s2">&#34;#f1&#34;</span><span class="p">)</span><span class="o">.</span><span class="n">serialize</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Â•ΩÂ§ÑÔºå‰∏çÈúÄË¶ÅÂä†csrf header</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="csrfËÆ§ËØÅ">csrfËÆ§ËØÅ
</h4><ul>
<li>ËØ∑Ê±Ç‰Ωì‰∏≠</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="o">-</span> <span class="n">‰º†ÁªüÁöÑform</span>
</span></span><span class="line"><span class="cl"><span class="o">-</span> <span class="n">jQuery</span>    <span class="err">$</span><span class="p">(</span><span class="s2">&#34;#smsForm&#34;</span><span class="p">)</span><span class="o">.</span><span class="n">serialize</span><span class="p">()</span>  <span class="o">+</span> <span class="n">Ajax</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>ËØ∑Ê±Ç‰Ωì‰∏≠</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="err">$</span><span class="o">.</span><span class="n">ajaxSetup</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">	<span class="n">beforeSend</span><span class="o">...</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="err">$</span><span class="o">.</span><span class="n">ajax</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">	<span class="n">url</span><span class="p">:</span><span class="s2">&#34;...&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="nb">type</span><span class="p">:</span><span class="s2">&#34;GET&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="n">data</span><span class="p">:{},</span>
</span></span><span class="line"><span class="cl">	<span class="n">dataType</span><span class="p">:</span><span class="s2">&#34;JSON&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="n">headers</span><span class="p">:{</span>
</span></span><span class="line"><span class="cl">		<span class="o">...</span>
</span></span><span class="line"><span class="cl">	<span class="p">},</span>
</span></span><span class="line"><span class="cl">	<span class="n">success</span><span class="p">:</span><span class="n">function</span><span class="p">(</span><span class="n">res</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="djangoÁöÑËá™ÂÆö‰πâËØ∑Ê±ÇÂ§¥">djangoÁöÑËá™ÂÆö‰πâËØ∑Ê±ÇÂ§¥
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="o">-</span> <span class="n">Ëá™Âä®ÂåñÊ∑ªÂä†</span> <span class="n">HTTP_</span> <span class="n">ÂâçÁºÄ</span>
</span></span><span class="line"><span class="cl"><span class="o">-</span> <span class="n">Ëá™Âä®ÂåñÊ∑ªÂä†</span> <span class="n">HTTP_</span> <span class="n">ÂâçÁºÄ</span><span class="err">Ôºå</span><span class="n">ÂâçÁ´ØÁöÑ</span><span class="o">-</span><span class="err">Ôºå</span><span class="n">ËΩ¨Êç¢ÊàêÂêéÁ´ØÁöÑ_</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="formÁªÑ‰ª∂">formÁªÑ‰ª∂
</h3><h4 id="Ëá™ÂÆö‰πâË°®ÂçïÁ±ª">Ëá™ÂÆö‰πâË°®ÂçïÁ±ª
</h4><p>DjangoÊèê‰æõ‰∫Ü‰∏§ÁßçËá™ÂÆö‰πâË°®ÂçïÁöÑÊñπÂºèÔºöÁªßÊâø<code>Form</code>Á±ªÂíå<code>ModelForm</code>Á±ª„ÄÇÂâçËÄÖ‰Ω†ÈúÄË¶ÅËá™ÂÆö‰πâË°®Âçï‰∏≠ÁöÑÂ≠óÊÆµÔºåÂêéËÄÖÂèØ‰ª•Ê†πÊçÆDjangoÊ®°ÂûãËá™Âä®ÁîüÊàêË°®ÂçïÔºåÂ¶Ç‰∏ãÔºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># app/forms.py</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Ëá™ÂÆö‰πâË°®ÂçïÂ≠óÊÆµ</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">django</span> <span class="kn">import</span> <span class="n">forms</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">.models</span> <span class="kn">import</span> <span class="n">Contact</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">ContactForm1</span><span class="p">(</span><span class="n">forms</span><span class="o">.</span><span class="n">Form</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">name</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&#34;Your Name&#34;</span><span class="p">,</span> <span class="n">max_length</span><span class="o">=</span><span class="mi">255</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">email</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">EmailField</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&#34;Email address&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Ê†πÊçÆÊ®°ÂûãÂàõÂª∫</span>
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">ContactForm2</span><span class="p">(</span><span class="n">forms</span><span class="o">.</span><span class="n">ModelForm</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">model</span> <span class="o">=</span> <span class="n">Contact</span>
</span></span><span class="line"><span class="cl">        <span class="n">fields</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;email&#39;</span><span class="p">,)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p><code>labelÁî®Êù•ÁªôÂ≠óÊÆµÊ∑ªÂä†‰∏Ä‰∏™ÊèèËø∞</code></p></blockquote>
<h4 id="Ëá™ÂÆö‰πâÈîôËØØÂ≠óÊÆµ‰ø°ÊÅØ">Ëá™ÂÆö‰πâÈîôËØØÂ≠óÊÆµ‰ø°ÊÅØ
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">django</span> <span class="kn">import</span> <span class="n">forms</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">LoginForm</span><span class="p">(</span><span class="n">forms</span><span class="o">.</span><span class="n">Form</span><span class="p">):</span>  
</span></span><span class="line"><span class="cl">    <span class="n">username</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">        <span class="n">required</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">max_length</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">min_length</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">error_messages</span><span class="o">=</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;required&#39;</span><span class="p">:</span> <span class="s1">&#39;Áî®Êà∑Âêç‰∏çËÉΩ‰∏∫Á©∫&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;max_length&#39;</span><span class="p">:</span> <span class="s1">&#39;Áî®Êà∑ÂêçÈïøÂ∫¶‰∏çÂæóË∂ÖËøá20‰∏™Â≠óÁ¨¶&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;min_length&#39;</span><span class="p">:</span> <span class="s1">&#39;Áî®Êà∑ÂêçÈïøÂ∫¶‰∏çÂæóÂ∞ë‰∫é6‰∏™Â≠óÁ¨¶&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">password</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">        <span class="n">required</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">max_length</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">min_length</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">error_messages</span><span class="o">=</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;required&#39;</span><span class="p">:</span> <span class="s1">&#39;ÂØÜÁ†Å‰∏çËÉΩ‰∏∫Á©∫&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;max_length&#39;</span><span class="p">:</span> <span class="s1">&#39;ÂØÜÁ†ÅÈïøÂ∫¶‰∏çÂæóË∂ÖËøá20‰∏™Â≠óÁ¨¶&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;min_length&#39;</span><span class="p">:</span> <span class="s1">&#39;ÂØÜÁ†ÅÈïøÂ∫¶‰∏çÂæóÂ∞ë‰∫é6‰∏™Â≠óÁ¨¶&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ÂØπ‰∫éÂü∫ÁªßÊâø<code>ModelForm</code>Á±ªÁöÑË°®Âçï, Êàë‰ª¨ÂèØ‰ª•Âú®<code>Meta</code>ÈÄâÈ°π‰∏ãwidget‰∏≠Êù•Ëá™ÂÆö‰πâÈîôËØØ‰ø°ÊÅØ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">django.forms</span> <span class="kn">import</span> <span class="n">ModelForm</span><span class="p">,</span> <span class="n">Textarea</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">myapp.models</span> <span class="kn">import</span> <span class="n">Author</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">AuthorForm</span><span class="p">(</span><span class="n">ModelForm</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">model</span> <span class="o">=</span> <span class="n">Author</span>
</span></span><span class="line"><span class="cl">        <span class="n">fields</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;birth_date&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">widgets</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="n">Textarea</span><span class="p">(</span><span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;cols&#39;</span><span class="p">:</span> <span class="mi">80</span><span class="p">,</span> <span class="s1">&#39;rows&#39;</span><span class="p">:</span> <span class="mi">20</span><span class="p">}),</span>  <span class="c1"># ÂÖ≥ÈîÆÊòØËøô‰∏ÄË°å</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="n">labels</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Author&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="n">help_texts</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Some useful help text.&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="n">error_messages</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="s1">&#39;max_length&#39;</span><span class="p">:</span> <span class="s2">&#34;This writer&#39;s name is too long.&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="Ëá™ÂÆö‰πâË°®ÂçïËæìÂÖ•widget">Ëá™ÂÆö‰πâË°®ÂçïËæìÂÖ•<code>widget</code>
</h4><p>DjangoË°®ÂçïÁöÑÊØè‰∏™Â≠óÊÆµ‰Ω†ÈÉΩÂèØ‰ª•ÈÄâÊã©‰Ω†ÂñúÊ¨¢ÁöÑËæìÂÖ•<code>widget</code>ÔºåÊØîÂ¶ÇÂ§öÈÄâÔºåÂ§çÈÄâÊ°Ü„ÄÇ‰Ω†ËøòÂèØ‰ª•ÂÆö‰πâÊØè‰∏™widgetÁöÑcssÂ±ûÊÄß</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">django</span> <span class="kn">import</span> <span class="n">forms</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">ContactForm</span><span class="p">(</span><span class="n">forms</span><span class="o">.</span><span class="n">Form</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">name</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">        <span class="n">max_length</span><span class="o">=</span><span class="mi">255</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">widget</span><span class="o">=</span><span class="n">forms</span><span class="o">.</span><span class="n">Textarea</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">            <span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;class&#39;</span><span class="p">:</span> <span class="s1">&#39;custom&#39;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="p">),</span>
</span></span><span class="line"><span class="cl">    <span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="Ë°®ÂçïÁöÑÂÆû‰æãÂåñ‰∏éÂàùÂßãÂåñ">Ë°®ÂçïÁöÑÂÆû‰æãÂåñ‰∏éÂàùÂßãÂåñ
</h4><p>ÂÆö‰πâÂ•Ω‰∏Ä‰∏™Ë°®ÂçïÁ±ªÂêéÔºå‰Ω†Â∞±ÂèØ‰ª•ÂØπÂÖ∂ËøõË°åÂÆû‰æãÂåñÊàñÂàùÂßãÂåñ„ÄÇ‰∏ãÈù¢ÊñπÊ≥ïÂèØ‰ª•ÂÆû‰æãÂåñ‰∏Ä‰∏™Á©∫Ë°®ÂçïÔºå‰ΩÜÈáåÈù¢Ê≤°Êúâ‰ªª‰ΩïÊï∞ÊçÆÔºåÂèØ‰ª•ÈÄöËøá <code>{{ form }}</code>Âú®Ê®°Êùø‰∏≠Ê∏≤Êüì</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">form</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">()</span> <span class="c1"># Á©∫Ë°®Âçï</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ÊúâÊó∂Êàë‰ª¨ÈúÄË¶ÅÂØπË°®ÂçïËÆæÁΩÆ‰∏Ä‰∫õÂàùÂßãÊï∞ÊçÆÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøá<code>initial</code>ÊñπÊ≥ïÊàñËÆæÁΩÆ<code>default_data</code>ÔºåÂ¶Ç‰∏ãÊâÄÁ§∫</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># initialÊñπÊ≥ïÂàùÂßãÂåñ</span>
</span></span><span class="line"><span class="cl"><span class="n">form</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="n">initial</span><span class="o">=</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;First and Last Name&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">},)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># default_dataÈªòËÆ§ÂÄº</span>
</span></span><span class="line"><span class="cl"><span class="n">default_data</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;John&#39;</span><span class="p">,</span> <span class="s1">&#39;email&#39;</span><span class="p">:</span> <span class="s1">&#39;someone@hotmail.com&#39;</span><span class="p">,</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="n">form</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">(</span><span class="n">default_data</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Áî®Êà∑Êèê‰∫§ÁöÑÊï∞ÊçÆÂèØ‰ª•ÈÄöËøá‰ª•‰∏ãÊñπÊ≥ï‰∏éË°®ÂçïÁªìÂêàÔºåÁîüÊàê‰∏éÊï∞ÊçÆÁªìÂêàËøáÁöÑË°®Âçï(Bound forms)„ÄÇDjangoÂè™ËÉΩÂØπBound formsËøõË°åÈ™åËØÅ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">form</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">POST</span><span class="p">,</span> <span class="n">files</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">FILES</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ÂÖ∂ÁºñËæë‰øÆÊîπÁ±ªÂ∫îÁî®Âú∫ÊôØ‰∏≠ÔºåÊàë‰ª¨ËøòË¶ÅÁªôË°®ÂçïÊèê‰æõÁé∞ÊúâÂØπË±°ÂÆû‰æãÁöÑÊï∞ÊçÆÔºåËÄå‰∏çÊòØÊ∏≤Êüì‰∏ÄÂº†Á©∫Ë°®ÂçïÔºåËøôÊó∂Êàë‰ª¨ÂèØËøô‰πàÂÅö„ÄÇËØ•ÊñπÊ≥ï‰ªÖÈÄÇÁî®‰∫éÁî±Ê®°ÂûãÂàõÂª∫ÁöÑ<code>ModelForm</code>ÔºåËÄå‰∏çÈÄÇÁî®‰∫éËá™ÂÆö‰πâÁöÑË°®Âçï</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">contact</span> <span class="o">=</span> <span class="n">Contact</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">form</span> <span class="o">=</span>  <span class="n">ContactForm</span><span class="p">(</span><span class="n">instance</span> <span class="o">=</span> <span class="n">contact</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">POST</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="Ë°®ÂçïÁöÑ‰ΩøÁî®">Ë°®ÂçïÁöÑ‰ΩøÁî®
</h4><h4 id="ÁªßÊâøformÁ±ª">ÁªßÊâøFormÁ±ª
</h4><ul>
<li>ÁºñÂÜôÂ≠óÊÆµ</li>
</ul>
<p>Ëá™ÂÆö‰πâÁºñÂÜô</p>
<ul>
<li>ÁîüÊàêHTMLÊ†áÁ≠æ + Êê∫Â∏¶Êï∞ÊçÆ</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="o">-</span> <span class="n">‰øùÁïôÂéüÊù•Êèê‰∫§ÁöÑÊï∞ÊçÆ</span><span class="err">Ôºå</span><span class="n">‰∏çÂÜçÊãÖÂøÉformË°®ÂçïÊèê‰∫§Êó∂È°µÈù¢Âà∑Êñ∞</span><span class="err">„ÄÇ</span>
</span></span><span class="line"><span class="cl"><span class="o">-</span> <span class="n">ÊòæÁ§∫ÈªòËÆ§ÂÄº</span><span class="err">Ôºå</span><span class="n">ÂÅöÁºñËæëÈ°µÈù¢ÊòæÁ§∫ÈªòËÆ§ÂÄº</span><span class="err">„ÄÇ</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>Êï∞ÊçÆÊ†°È™åÔºåÂØπÁî®Êà∑Êèê‰∫§ÁöÑÊï∞ÊçÆÊ†ºÂºèÊ†°È™å</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">form</span> <span class="o">=</span> <span class="n">LoginForm</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">POST</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="n">form</span><span class="o">.</span><span class="n">is_valid</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="n">form</span><span class="o">.</span><span class="n">cleaned_data</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="n">form</span><span class="o">.</span><span class="n">errors</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="ÁªßÊâømodelformÁ±ª">ÁªßÊâøModelFormÁ±ª
</h4><ul>
<li>ÁºñÂÜôÂ≠óÊÆµ</li>
</ul>
<p>ÈÄâÊã©Â≠óÊÆµ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">LevelModelForm</span><span class="p">(</span><span class="n">forms</span><span class="o">.</span><span class="n">ModelForm</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">model</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">Level</span>  <span class="c1"># ÊåáÂÆöÂºïÁî®ÁöÑË°®Âêç</span>
</span></span><span class="line"><span class="cl">        <span class="n">fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;percent&#39;</span><span class="p">]</span>  <span class="c1"># ÂºïÁî®ÁöÑÂ≠óÊÆµ</span>
</span></span><span class="line"><span class="cl">        <span class="n">fields</span> <span class="o">=</span> <span class="s2">&#34;__all__&#34;</span>  <span class="c1"># ÂºïÁî®ÂÖ®ÈÉ®Â≠óÊÆµ</span>
</span></span><span class="line"><span class="cl">		<span class="n">exclude</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;active&#39;</span><span class="p">]</span>  <span class="c1"># ÊéíÈô§Êüê‰∏ÄÂ≠óÊÆµ</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Ê∑ªÂä†Ëá™ÂÆö‰πâÂ≠óÊÆµ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">LevelModelForm</span><span class="p">(</span><span class="n">BootStrapForm</span><span class="p">,</span> <span class="n">forms</span><span class="o">.</span><span class="n">ModelForm</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">xxx</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;xxx&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">model</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">Level</span>
</span></span><span class="line"><span class="cl">        <span class="c1"># fields = &#34;__all__&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="c1"># exclude = [&#39;active&#39;]</span>
</span></span><span class="line"><span class="cl">        <span class="n">fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;xxx&#39;</span><span class="p">,</span> <span class="s1">&#39;percent&#39;</span><span class="p">,</span> <span class="p">]</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ÈáçÂÜôÂ≠óÊÆµ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">LevelModelForm</span><span class="p">(</span><span class="n">BootStrapForm</span><span class="p">,</span> <span class="n">forms</span><span class="o">.</span><span class="n">ModelForm</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">title</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">ChoiceField</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">choices</span><span class="o">=</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&#34;xxx&#34;</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s2">&#34;xxxxxx&#34;</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">model</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">Level</span>
</span></span><span class="line"><span class="cl">        <span class="c1"># fields = &#34;__all__&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="c1"># exclude = [&#39;active&#39;]</span>
</span></span><span class="line"><span class="cl">        <span class="n">fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;percent&#39;</span><span class="p">,</span> <span class="p">]</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>ÁîüÊàêHTMLÊ†áÁ≠æ + Êèí‰ª∂ + ÂèÇÊï∞ÁöÑÈÖçÁΩÆ</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">LevelModelForm</span><span class="p">(</span><span class="n">BootStrapForm</span><span class="p">,</span> <span class="n">forms</span><span class="o">.</span><span class="n">ModelForm</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">model</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">Level</span>
</span></span><span class="line"><span class="cl">        <span class="n">fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;percent&#39;</span><span class="p">,</span> <span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="n">widgets</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="n">forms</span><span class="o">.</span><span class="n">PasswordInput</span><span class="p">(</span><span class="n">render_value</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>Ë°®ÂçïÈ™åËØÅ</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">LevelModelForm</span><span class="p">(</span><span class="n">BootStrapForm</span><span class="p">,</span> <span class="n">forms</span><span class="o">.</span><span class="n">ModelForm</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">title</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">validators</span><span class="o">=</span><span class="p">[])</span>
</span></span><span class="line"><span class="cl">    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">model</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">Level</span>
</span></span><span class="line"><span class="cl">        <span class="n">fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;percent&#39;</span><span class="p">,</span> <span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">clean_percent</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cleaned_data</span><span class="p">[</span><span class="s1">&#39;percent&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">value</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>‰øùÂ≠òÊõ¥Êñ∞</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">form</span> <span class="o">=</span> <span class="n">LevelModelForm</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">POST</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">form</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">form</span> <span class="o">=</span> <span class="n">LevelModelForm</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">POST</span><span class="p">,</span><span class="n">install</span><span class="o">=</span><span class="n">ÂØπË±°</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">form</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># ËæìÂÖ•Â≠óÊÆµÂ∞ë‰∫éÊï∞ÊçÆÂ∫ìÔºåÊâãÂä®Ê∑ªÂä†</span>
</span></span><span class="line"><span class="cl"><span class="c1"># ËæìÂÖ•Â≠óÊÆµÂ§ö‰ΩôÊï∞ÊçÆÂ∫ìb</span>
</span></span><span class="line"><span class="cl"><span class="n">form</span> <span class="o">=</span> <span class="n">LevelModelForm</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">POST</span><span class="p">)</span> <span class="c1"># ÊàñÊúâ ,install=ÂØπË±°</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">form</span><span class="o">.</span><span class="n">instance</span><span class="o">.</span><span class="n">percent</span> <span class="o">=</span> <span class="mi">10</span>
</span></span><span class="line"><span class="cl"><span class="n">form</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="formÁöÑÊ†°È™åÊµÅÁ®ã">formÁöÑÊ†°È™åÊµÅÁ®ã
</h4><ul>
<li>ÊØè‰∏™Â≠óÊÆµÁöÑÂÜÖÈÉ®Ôºörequired + validators + min_length + max_length</li>
<li>ÊØè‰∏™Â≠óÊÆµÁöÑÈí©Â≠êÊñπÊ≥ï</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">clean_username</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">user</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cleaned_data</span><span class="p">[</span><span class="s1">&#39;username&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># Ê†°È™åËßÑÂàô</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># Ê†°È™åÂ§±Ë¥•</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">user</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="kn">from</span> <span class="nn">django.core.exceptions</span> <span class="kn">import</span> <span class="n">ValidationError</span>
</span></span><span class="line"><span class="cl">        <span class="k">raise</span> <span class="n">ValidationError</span><span class="p">(</span><span class="s2">&#34;Áî®Êà∑ÂêçÊ†ºÂºèÈîôËØØ&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="n">user</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">form</span><span class="o">.</span><span class="n">cleaned_data</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>clean</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">clean</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># ÂØπÊâÄÊúâÂÄºËøõË°åÊ†°È™å</span>
</span></span><span class="line"><span class="cl">    <span class="kn">from</span> <span class="nn">django.core.exceptions</span> <span class="kn">import</span> <span class="n">ValidationError</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># 1.‰∏çËøîÂõûÂÄºÔºåÈªòËÆ§ self.cleaned_data</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># 2.ËøîÂõûÂÄºÔºåself.cleaned_data=ËøîÂõûÁöÑÂÄº</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># 3.Êä•ÈîôÔºåValidationError -&gt;  self.add_error(None, e)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>_post_clean</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">_post_clean</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">pass</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>formÁõÆÁöÑÔºöÁîüÊàêÊ†áÁ≠æ + Ê†°È™å</li>
<li>ÁîüÊàêÊ†áÁ≠æ
<ul>
<li>Âæ™ÁéØ + ÂçïÁã¨Êüê‰∏™Â≠óÊÆµ</li>
<li>labelÈ°µÈù¢ÊòæÁ§∫ÊñáÊú¨‰ø°ÊÅØ</li>
<li>Ëá™ÂÆö‰πâÈîôËØØ‰ΩçÁΩÆÔºåposition</li>
</ul>
</li>
<li>Ê†°È™å
<ul>
<li>ÂÆö‰πâ
<ul>
<li>ÊØè‰∏™Â≠óÊÆµÊ†°È™å
<ul>
<li>Â≠óÊÆµ‰∏äÂÆö‰πâÊ†°È™åËßÑÂàô Ê≠£Âàô„ÄÅÁ©∫„ÄÅÈïøÂ∫¶</li>
<li>clean_ÊñπÊ≥ïÂêç</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">Ê†°È™åÊàêÂäü</span><span class="err">Ôºö</span>
</span></span><span class="line"><span class="cl">	<span class="bp">self</span><span class="o">.</span><span class="n">cleaned_data</span><span class="p">[</span><span class="s2">&#34;Â≠óÊÆµ&#34;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ÂÄº</span>
</span></span><span class="line"><span class="cl"><span class="n">Ê†°È™åÂ§±Ë¥•</span>
</span></span><span class="line"><span class="cl">	<span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="p">[</span><span class="s2">&#34;Â≠óÊÆµ&#34;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ÈîôËØØ</span>
</span></span></code></pre></td></tr></table>
</div>
</div><pre><code>    * ÊâÄÊúâÂ≠óÊÆµÊ†°È™å
        + clean
</code></pre>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">cleaned_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">clean</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="bp">self</span><span class="o">.</span><span class="n">add_error</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">cleaned_data</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">cleaned_data</span> <span class="o">=</span> <span class="n">cleaned_data</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl"><span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="p">[</span><span class="s2">&#34;__all__&#34;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ÈîôËØØ</span>
</span></span></code></pre></td></tr></table>
</div>
</div><pre><code>        + _post_clean
- Ê†°È™åÊ∫êÁ†Å
    * form.is_valid
    * form.errors
    * form.fuull_clean()
- ‰∏öÂä°Ê†°È™å
</code></pre>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">form</span> <span class="o">=</span> <span class="n">ÂØπË±°</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="ow">not</span> <span class="n">form</span><span class="o">.</span><span class="n">is_valid</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="n">form</span><span class="o">.</span><span class="n">errors</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">form</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">username</span><span class="mf">.0</span>
</span></span><span class="line"><span class="cl">    <span class="n">form</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="fm">__call__</span><span class="mf">.0</span>   <span class="o">-&gt;</span>  <span class="n">Ê®°ÊùøËØ≠Ë®Ä‰∏≠</span> <span class="n">form</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">__</span> <span class="n">‰∏çÊîØÊåÅ</span>
</span></span><span class="line"><span class="cl">    <span class="n">form</span><span class="o">.</span><span class="n">non_field_errors</span><span class="p">()</span>  <span class="o">&lt;==&gt;</span> <span class="n">form</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="fm">__call__</span>
</span></span><span class="line"><span class="cl">    <span class="n">Âú®È°µÈù¢‰∏äÂéªÈÄÇÂêàÁöÑ‰ΩçÁΩÆÊòæÁ§∫ÈîôËØØ‰ø°ÊÅØ</span>
</span></span><span class="line"><span class="cl"><span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="n">form</span><span class="o">.</span><span class="n">cleaned_data</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="o">...</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/post/python/order_trading_platform/1732377343476-dfd6b6b1-1b53-4861-b14a-40c18d8dfacc.png"
	
	
	
	loading="lazy"
	
	
></p>
<pre><code>- ÊãìÂ±ï
</code></pre>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">Â¶ÇÊûúÊÉ≥Ë¶ÅËÆ©Êüê‰∏™ÈîôËØØ‰ø°ÊÅØ</span><span class="err">Ôºå</span><span class="n">Â±ïÁ§∫Âú®ÁâπÂÆöÁöÑÂ≠óÊÆµÊóÅ</span><span class="err">Ôºå</span><span class="n">Â∞±ÂèØ‰ª•‰ΩøÁî®</span><span class="err">Ôºö</span>
</span></span><span class="line"><span class="cl"><span class="n">form</span><span class="o">.</span><span class="n">add_error</span><span class="p">(</span><span class="s2">&#34;password&#34;</span><span class="p">,</span> <span class="s2">&#34;Áî®Êà∑ÂêçÊàñÂØÜÁ†ÅÈîôËØØ&#34;</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/post/python/order_trading_platform/1732377389035-fddedf5e-b105-4d35-80bd-b17ab91f489a.png"
	
	
	
	loading="lazy"
	
	
></p>
<h4 id="formÊ†∑ÂºèËÆæÁΩÆ">formÊ†∑ÂºèËÆæÁΩÆ
</h4><p>ÊÄùËÄÉÔºöÊó†ËÆ∫Âú®‰ΩøÁî®FormËøòÊòØModelFormÊó∂ÔºåÊÉ≥Ë¶ÅËÆ©È°µÈù¢Â•ΩÁúãÔºåÂ∞±ÈúÄË¶ÅÂ∞ÜÊØè‰∏™Â≠óÊÆµÁöÑÊèí‰ª∂‰∏≠Áªô‰ªñËÆæÁΩÆform-controlÊ†∑Âºè</p>
<h5 id="Âæ™ÁéØÂÜôÂÖ•">Âæ™ÁéØÂÜôÂÖ•
</h5><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">LevelForm</span><span class="p">(</span><span class="n">forms</span><span class="o">.</span><span class="n">Form</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">title</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">        <span class="n">label</span><span class="o">=</span><span class="s2">&#34;Ê†áÈ¢ò&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">required</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="c1"># widget=forms.TextInput(attrs={&#34;class&#34;: &#34;form-control&#34;, &#39;placeholder&#39;: &#34;ËØ∑ËæìÂÖ•Ê†áÈ¢ò&#34;}),</span>
</span></span><span class="line"><span class="cl">    <span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">percent</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">        <span class="n">label</span><span class="o">=</span><span class="s2">&#34;ÊäòÊâ£&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">required</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">help_text</span><span class="o">=</span><span class="s2">&#34;Â°´ÂÖ•0-100Êï¥Êï∞Ë°®Á§∫ÁôæÂàÜÊØîÔºå‰æãÂ¶ÇÔºö90ÔºåË°®Á§∫90%&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="o">*</span><span class="n">args</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="c1"># {&#39;title&#39;:ÂØπË±°,&#34;percent&#34;:ÂØπË±°}</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">name</span><span class="p">,</span><span class="n">field</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">            <span class="n">field</span><span class="o">.</span><span class="n">widget</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;class&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&#34;form-control&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="n">field</span><span class="o">.</span><span class="n">widget</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;placeholder&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&#34;ËØ∑ËæìÂÖ•</span><span class="si">{}</span><span class="s2">&#34;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">field</span><span class="o">.</span><span class="n">label</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">LevelModelForm</span><span class="p">(</span><span class="n">forms</span><span class="o">.</span><span class="n">ModelForm</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">model</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">Level</span>
</span></span><span class="line"><span class="cl">        <span class="n">fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;percent&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="o">*</span><span class="n">args</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="c1"># {&#39;title&#39;:ÂØπË±°,&#34;percent&#34;:ÂØπË±°}</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">name</span><span class="p">,</span><span class="n">field</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">            <span class="n">field</span><span class="o">.</span><span class="n">widget</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;class&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&#34;form-control&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="n">field</span><span class="o">.</span><span class="n">widget</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;placeholder&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&#34;ËØ∑ËæìÂÖ•</span><span class="si">{}</span><span class="s2">&#34;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">field</span><span class="o">.</span><span class="n">label</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h5 id="bootstrapÊ†∑Âºè‰ºòÂåñ">BootstrapÊ†∑Âºè‰ºòÂåñ
</h5><h5 id="superÂÖ≥ÈîÆÂ≠ó">superÂÖ≥ÈîÆÂ≠ó
</h5><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">superÊòØÊâæÁà∂Á±ª‰∏≠ÁöÑÊàêÂëòÂêó</span><span class="err">Ôºü</span><span class="n">‰∏çÂáÜÁ°Æ</span><span class="err">„ÄÇ</span>
</span></span><span class="line"><span class="cl"><span class="nb">super</span><span class="p">,</span><span class="n">Â∞±ÊòØÊ†πÊçÆÁ±ªÁöÑÁªßÊâøÂÖ≥Á≥ª</span><span class="err">Ôºà</span><span class="n">mro</span><span class="err">ÔºâÔºå</span><span class="n">ÈÄêÊ≠•Êôö‰∏äÊâæ</span><span class="err">„ÄÇ</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Base</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">f1</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;Base&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Foo</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">	<span class="k">pass</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Bar</span><span class="p">(</span><span class="n">Foo</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">f1</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;Bar&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">f1</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">obj</span> <span class="o">=</span> <span class="n">Bar</span><span class="p">()</span>  <span class="c1"># [Bar,Foo,Base]</span>
</span></span><span class="line"><span class="cl"><span class="n">obj</span><span class="o">.</span><span class="n">f1</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Bar Base</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Base</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">f1</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;Base&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Foo</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">f1</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;Foo&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">f1</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Bar</span><span class="p">(</span><span class="n">Foo</span><span class="p">,</span><span class="n">Base</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">f1</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;Bar&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">f1</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl"><span class="n">obj</span> <span class="o">=</span> <span class="n">Bar</span><span class="p">()</span>  <span class="c1"># [Bar,Foo,Base]</span>
</span></span><span class="line"><span class="cl"><span class="n">obj</span><span class="o">.</span><span class="n">f1</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Bar Foo Base</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Base</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">f1</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;Base&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Foo</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">f1</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;Foo&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">f1</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Bar</span><span class="p">(</span><span class="n">Foo</span><span class="p">,</span><span class="n">Base</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">f1</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;Bar&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">f1</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl"><span class="n">obj</span> <span class="o">=</span> <span class="n">Foo</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">obj</span><span class="o">.</span><span class="n">f1</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Foo</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">django.shortcuts</span> <span class="kn">import</span> <span class="n">render</span><span class="p">,</span> <span class="n">redirect</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">web</span> <span class="kn">import</span> <span class="n">models</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">django</span> <span class="kn">import</span> <span class="n">forms</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">django.urls</span> <span class="kn">import</span> <span class="n">reverse</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">BootStrapForm</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1"># {&#39;title&#39;:ÂØπË±°,&#34;percent&#34;:ÂØπË±°}</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">field</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">            <span class="n">field</span><span class="o">.</span><span class="n">widget</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;class&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&#34;form-control&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="n">field</span><span class="o">.</span><span class="n">widget</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;placeholder&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&#34;ËØ∑ËæìÂÖ•</span><span class="si">{}</span><span class="s2">&#34;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">field</span><span class="o">.</span><span class="n">label</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">LevelForm</span><span class="p">(</span><span class="n">BootStrapForm</span><span class="p">,</span> <span class="n">forms</span><span class="o">.</span><span class="n">Form</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">title</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">        <span class="n">label</span><span class="o">=</span><span class="s2">&#34;Ê†áÈ¢ò&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">required</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">percent</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">        <span class="n">label</span><span class="o">=</span><span class="s2">&#34;ÊäòÊâ£&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">required</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">help_text</span><span class="o">=</span><span class="s2">&#34;Â°´ÂÖ•0-100Êï¥Êï∞Ë°®Á§∫ÁôæÂàÜÊØîÔºå‰æãÂ¶ÇÔºö90ÔºåË°®Á§∫90%&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">LevelModelForm</span><span class="p">(</span><span class="n">BootStrapForm</span><span class="p">,</span> <span class="n">forms</span><span class="o">.</span><span class="n">ModelForm</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">model</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">Level</span>
</span></span><span class="line"><span class="cl">        <span class="n">fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;percent&#39;</span><span class="p">]</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h5 id="Â±ÄÈÉ®ÂéªÈô§bootstrapÊ†∑Âºè--‰øÆÊîπÂ≠óÊÆµÊ†∑Âºè">Â±ÄÈÉ®ÂéªÈô§bootstrapÊ†∑Âºè + ‰øÆÊîπÂ≠óÊÆµÊ†∑Âºè
</h5><p><img src="/post/python/order_trading_platform/1732416059542-81dab9ba-f776-472d-8ab7-f55dfc0324fb.png"
	
	
	
	loading="lazy"
	
	
></p>
<p>ÂéüÁêÜÔºö</p>
<p><img src="/post/python/order_trading_platform/1732416076683-02a8e815-2209-4c5d-ace3-ef48620a4ed6.png"
	
	
	
	loading="lazy"
	
	
></p>
<h4 id="formÁªÑ‰ª∂Âü∫Êú¨Êìç‰Ωú">formÁªÑ‰ª∂Âü∫Êú¨Êìç‰Ωú
</h4><h5 id="ÊòæÁ§∫ÈªòËÆ§ÂÄº">ÊòæÁ§∫ÈªòËÆ§ÂÄº
</h5><ul>
<li>Form</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">form</span> <span class="o">=</span> <span class="n">LevelForm</span><span class="p">(</span><span class="n">initial</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="s2">&#34;xxx&#34;</span><span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>ModelForm</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">form</span> <span class="o">=</span> <span class="n">LevelForm</span><span class="p">(</span><span class="n">initial</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="s2">&#34;xxx&#34;</span><span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">level_object</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">Level</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">pk</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">form</span> <span class="o">=</span> <span class="n">LevelModelForm</span><span class="p">(</span><span class="n">instance</span><span class="o">=</span><span class="n">level_object</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="model">Model
</h3><h4 id="‰øÆÊîπÊü•ËØ¢Êù°‰ª∂">‰øÆÊîπÊü•ËØ¢Êù°‰ª∂
</h4><ul>
<li>models‰∏≠ÁöÑlimit_choice_toÂ≠óÊÆµ</li>
</ul>
<p><img src="/post/python/order_trading_platform/1732415713151-2d59c2e8-efcd-451a-a38e-34eca240a6da.png"
	
	
	
	loading="lazy"
	
	
></p>
<ul>
<li>Ëá™ÂÆö‰πâchoicesÂíåqueryset</li>
</ul>
<p><img src="/post/python/order_trading_platform/1732415742966-cf853046-b791-41e2-a730-d50c7f021ef2.png"
	
	
	
	loading="lazy"
	
	
></p>
<p>‰º†ÂÖ•request‰ª•‰æøÂêéÁª≠Êù°‰ª∂Â§çÊùÇÂåñ</p>
<h3 id="Ê®°Êùø">Ê®°Êùø
</h3><h4 id="ÊØçÁâà">ÊØçÁâà
</h4><h4 id="inclusion_tag">inclusion_tag
</h4><h3 id="ÈòüÂàó">ÈòüÂàó
</h3><p><img src="/post/python/order_trading_platform/1732349610537-4e709222-39a3-4489-b719-1cd4e1008d0e.png"
	
	
	
	loading="lazy"
	
	
></p>
<ul>
<li>rabbitMQÔºåLinuxÂëΩ‰ª§+ÊúçÂä°ÊûÑÂª∫+python‰ª£Á†Å„ÄÇ</li>
<li>kafkaÔºåLinuxÂëΩ‰ª§+ÊúçÂä°ÊûÑÂª∫+python‰ª£Á†Å„ÄÇ</li>
<li>redisÁöÑÂàóË°®</li>
</ul>
<p><img src="/post/python/order_trading_platform/1732349626708-a5c87e69-4f8d-42f0-816e-4751167eb4aa.png"
	
	
	
	loading="lazy"
	
	
></p>
<p>Âü∫‰∫éredisÂÆûÁé∞‰∏äËø∞ÂäüËÉΩÁöÑËøáÁ®ãÂíå‰ª£Á†ÅÁ§∫‰æãÔºö</p>
<ul>
<li>ÂÆâË£Öredis</li>
<li>ÂêØÂä®redis</li>
<li>pythonÊìç‰Ωúredis</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">pip</span> <span class="n">install</span> <span class="n">redis</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">redis</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">conn</span> <span class="o">=</span> <span class="n">redis</span><span class="o">.</span><span class="n">Redis</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s1">&#39;127.0.0.1&#39;</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">6379</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s1">&#39;qwe123&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Áü≠‰ø°È™åËØÅÁ†Å</span>
</span></span><span class="line"><span class="cl"><span class="n">conn</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;15131255089&#39;</span><span class="p">,</span> <span class="mi">9999</span><span class="p">,</span> <span class="n">ex</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">value</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;15131255089&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">redis</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">conn</span> <span class="o">=</span> <span class="n">redis</span><span class="o">.</span><span class="n">Redis</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s1">&#39;127.0.0.1&#39;</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">6379</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s1">&#39;qwe123&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># ÊîæÂÄº</span>
</span></span><span class="line"><span class="cl"><span class="c1"># conn.lpush(&#39;my_queue&#39;, &#34;root&#34;)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># conn.lpush(&#39;my_queue&#39;, &#34;good&#34;)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># ÂèñÂÄº</span>
</span></span><span class="line"><span class="cl"><span class="n">v1</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">brpop</span><span class="p">(</span><span class="s2">&#34;my_queue&#34;</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">v1</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="workerÂíåÁ∫øÊÄßÊ±†">workerÂíåÁ∫øÊÄßÊ±†
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># 1.Âéªredis‰∏≠Ëé∑Âèñ‰ªªÂä°</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 2.ÂÜçÂ∞ÜÊ≠§ËÆ¢ÂçïÂú®Êï∞ÊçÆÂ∫ì‰∏≠ÁöÑÁä∂ÊÄÅ‰øÆÊîπ‰∏∫ ÊâßË°å‰∏≠</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 3.Ëé∑Âèñ‰ªªÂä°ËØ¶ÁªÜÔºö ËßÜÈ¢ëÔºå10000</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 4.Á∫øÁ®ãÊ±†ÊàñÂçèÁ®ã</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">concurrent.futures</span> <span class="kn">import</span> <span class="n">ThreadPoolExecutor</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">task</span><span class="p">(</span><span class="n">video_url</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># Ê†πÊçÆËßÜÈ¢ëÂú∞ÂùÄÂÆûÁé∞Âà∑Êí≠Êîæ</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># ..</span>
</span></span><span class="line"><span class="cl">    <span class="k">pass</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">pool</span> <span class="o">=</span> <span class="n">ThreadPoolExecutor</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10000</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">pool</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span><span class="n">task</span><span class="p">,</span> <span class="s2">&#34;ËßÜÈ¢ëÂú∞ÂùÄ&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">pool</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>  <span class="c1"># Âç°‰∏ªÔºåÁ≠âÂæÖÊâÄÊúâÁöÑ‰ªªÂä°ÊâßË°åÂÆåÊØï„ÄÇ</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 5.Êõ¥Êñ∞ËÆ¢ÂçïÁä∂ÊÄÅÔºåÂ∑≤ÂÆåÊàê</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ÂàÜÈ°µÁªÑ‰ª∂">ÂàÜÈ°µÁªÑ‰ª∂
</h3><h4 id="ÈÄâÈ°πÁîüÊàê">ÈÄâÈ°πÁîüÊàê
</h4><p><img src="/post/python/order_trading_platform/1732416637414-b8a1fbc2-d88a-49e0-b546-5326800b9acc.png"
	
	
	
	loading="lazy"
	
	
></p>
<h4 id="È°µÁ†ÅÈÄªËæëÂíåÂä®ÊÄÅÈ°µÁ†Å">È°µÁ†ÅÈÄªËæëÂíåÂä®ÊÄÅÈ°µÁ†Å
</h4><p><img src="/post/python/order_trading_platform/1732416707994-199c0f3d-c70c-4632-9c20-c95ab4bea4ea.png"
	
	
	
	loading="lazy"
	
	
></p>
<h4 id="ÂàÜÈ°µÁªÑ‰ª∂ÁöÑÂ∞ÅË£Ö">ÂàÜÈ°µÁªÑ‰ª∂ÁöÑÂ∞ÅË£Ö
</h4><p><img src="/post/python/order_trading_platform/1732416742666-835e5124-e6cd-41aa-a4a2-489e5b271587.png"
	
	
	
	loading="lazy"
	
	
></p>
<h4 id="‰ºòÂåñ">‰ºòÂåñ
</h4><p>Âä†ÂÖ•È¶ñÈ°µ„ÄÅÂ∞æÈ°µ„ÄÅ‰∏ä‰∏ÄÈ°µ„ÄÅ‰∏ã‰∏ÄÈ°µ</p>
<p><img src="/post/python/order_trading_platform/1732416785524-9beb4d22-b0bb-4af7-80c0-e50edd5b94f9.png"
	
	
	
	loading="lazy"
	
	
></p>
<h4 id="querydict">querydict
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="mf">127.0.0.1</span><span class="p">:</span><span class="mi">8000</span><span class="o">/</span><span class="n">customer</span><span class="o">/</span><span class="nb">list</span><span class="o">/</span><span class="err">?</span><span class="nb">filter</span><span class="o">=</span><span class="n">wupeiqi</span><span class="o">&amp;</span><span class="n">age</span><span class="o">=</span><span class="mi">19</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">request</span><span class="o">.</span><span class="n">GET</span>  <span class="n">ÂØπË±°</span>    <span class="n">QueryDictÁ±ªÂûã</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="mf">1.</span><span class="n">ÈªòËÆ§QueryDict‰∏çÂÖÅËÆ∏Ë¢´‰øÆÊîπ</span> <span class="n">_mutable</span><span class="o">=</span><span class="kc">False</span>
</span></span><span class="line"><span class="cl">	<span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="o">.</span><span class="n">_mutable</span> <span class="o">=</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="mf">2.</span><span class="n">ËÆæÁΩÆÂÄº</span>
</span></span><span class="line"><span class="cl">	<span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="o">.</span><span class="n">setlist</span><span class="p">(</span><span class="s2">&#34;name&#34;</span><span class="p">,[</span><span class="mi">123</span><span class="p">])</span>    <span class="c1"># filter=wupeiqi&amp;age=19&amp;name=123</span>
</span></span><span class="line"><span class="cl">	<span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="o">.</span><span class="n">setlist</span><span class="p">(</span><span class="s2">&#34;name&#34;</span><span class="p">,[</span><span class="mi">123</span><span class="p">,</span><span class="mi">32</span><span class="p">])</span> <span class="c1"># filter=wupeiqi&amp;age=19&amp;name=123&amp;name=32</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="mf">3.</span><span class="n">Ë∞ÉÁî®urlencodeÊñπÊ≥ï</span><span class="err">Ôºå</span><span class="n">ÂèØ‰ª•ÊãºÊé•</span>
</span></span><span class="line"><span class="cl">	<span class="n">paramString</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="o">.</span><span class="n">urlencode</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="nb">print</span><span class="p">(</span><span class="n">paramString</span><span class="p">)</span> <span class="s2">&#34;filter=wupeiqi&amp;age=19&amp;name=123&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">------</span><span class="n">ÊµãËØï</span><span class="o">-----</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">copy</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">query_dict</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">query_dict</span><span class="o">.</span><span class="n">_mutable</span> <span class="o">=</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl"><span class="n">query_dict</span><span class="o">.</span><span class="n">setlist</span><span class="p">(</span><span class="s1">&#39;page&#39;</span><span class="p">,[</span><span class="mi">1</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="n">paramString</span> <span class="o">=</span> <span class="n">query_dict</span><span class="o">.</span><span class="n">urlencode</span><span class="p">()</span> <span class="s2">&#34;filter=wupeiqi&amp;age=19&amp;page=1&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">query_dict</span><span class="o">.</span><span class="n">_mutable</span> <span class="o">=</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl"><span class="n">query_dict</span><span class="o">.</span><span class="n">setlist</span><span class="p">(</span><span class="s1">&#39;page&#39;</span><span class="p">,[</span><span class="mi">2</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="n">paramString</span> <span class="o">=</span> <span class="n">query_dict</span><span class="o">.</span><span class="n">urlencode</span><span class="p">()</span> <span class="s2">&#34;filter=wupeiqi&amp;age=19&amp;page=2&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="o">.</span><span class="n">_mutable</span> <span class="o">=</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl"><span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="o">.</span><span class="n">setlist</span><span class="p">(</span><span class="s1">&#39;page&#39;</span><span class="p">,[</span><span class="mi">3</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="n">paramString</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="o">.</span><span class="n">urlencode</span><span class="p">()</span> <span class="s2">&#34;filter=wupeiqi&amp;age=19&amp;page=3&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="Ëß£ÂÜ≥urlÂèÇÊï∞Êê∫Â∏¶ÈóÆÈ¢ò">Ëß£ÂÜ≥urlÂèÇÊï∞Êê∫Â∏¶ÈóÆÈ¢ò
</h4><p><img src="/post/python/order_trading_platform/1732416996115-a1389f86-7e9a-44bc-98c3-4d33f67f01b7.png"
	
	
	
	loading="lazy"
	
	
></p>
<h4 id="ÊúÄÁªàÁâà">ÊúÄÁªàÁâà
</h4><h3 id="ÊêúÁ¥¢ÁªÑ‰ª∂">ÊêúÁ¥¢ÁªÑ‰ª∂
</h3><h4 id="qÂØπË±°">QÂØπË±°
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">django‰∏≠Êúâ‰∏™QÂØπË±°</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">models</span><span class="o">.</span><span class="n">XX</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">models</span><span class="o">.</span><span class="n">XX</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">id__gt</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">models</span><span class="o">.</span><span class="n">XX</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">id__gte</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">models</span><span class="o">.</span><span class="n">XX</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">name__contains</span><span class="o">=</span><span class="s2">&#34;xx&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">models</span><span class="o">.</span><span class="n">XX</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">19</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">ÊñπÂºè1</span><span class="err">Ôºö</span>
</span></span><span class="line"><span class="cl">	<span class="n">models</span><span class="o">.</span><span class="n">XX</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span> <span class="n">Q</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span> <span class="p">)</span>	
</span></span><span class="line"><span class="cl">	<span class="n">models</span><span class="o">.</span><span class="n">XX</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span> <span class="n">Q</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span><span class="o">&amp;</span><span class="n">Q</span><span class="p">(</span><span class="n">age</span><span class="o">=</span><span class="mi">19</span><span class="p">)</span> <span class="p">)</span>	
</span></span><span class="line"><span class="cl">	<span class="n">models</span><span class="o">.</span><span class="n">XX</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span> <span class="n">Q</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span><span class="o">|</span><span class="n">Q</span><span class="p">(</span><span class="n">age</span><span class="o">=</span><span class="mi">19</span><span class="p">)</span> <span class="p">)</span>	
</span></span><span class="line"><span class="cl">	<span class="n">models</span><span class="o">.</span><span class="n">XX</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span> <span class="n">Q</span><span class="p">(</span><span class="n">id__gt</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span><span class="o">|</span><span class="n">Q</span><span class="p">(</span><span class="n">age__lte</span><span class="o">=</span><span class="mi">19</span><span class="p">)</span> <span class="p">)</span>	
</span></span><span class="line"><span class="cl">	<span class="n">models</span><span class="o">.</span><span class="n">XX</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span> <span class="n">Q</span><span class="p">(</span> <span class="n">Q</span><span class="p">(</span><span class="n">id__gt</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span><span class="o">|</span><span class="n">Q</span><span class="p">(</span><span class="n">age__lte</span><span class="o">=</span><span class="mi">19</span><span class="p">)</span> <span class="p">)</span> <span class="o">&amp;</span> <span class="n">Q</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="mi">19</span><span class="p">))</span>	
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">ÊñπÂºè2</span><span class="err">Ôºö</span>
</span></span><span class="line"><span class="cl">	<span class="n">q1</span> <span class="o">=</span> <span class="n">Q</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="n">q1</span><span class="o">.</span><span class="n">connector</span> <span class="o">=</span> <span class="s1">&#39;OR&#39;</span>
</span></span><span class="line"><span class="cl">	<span class="n">q1</span><span class="o">.</span><span class="n">children</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="n">q1</span><span class="o">.</span><span class="n">children</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="s1">&#39;age&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>      <span class="nb">id</span><span class="o">=</span><span class="mi">1</span> <span class="ow">or</span> <span class="n">age</span><span class="o">=</span><span class="mi">10</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="n">q2</span> <span class="o">=</span> <span class="n">Q</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="n">q2</span><span class="o">.</span><span class="n">connector</span> <span class="o">=</span> <span class="s1">&#39;ADN&#39;</span>
</span></span><span class="line"><span class="cl">	<span class="n">q2</span><span class="o">.</span><span class="n">children</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="s1">&#39;size__gt&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="n">q2</span><span class="o">.</span><span class="n">children</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;root&#39;</span><span class="p">))</span>   <span class="n">size</span><span class="o">&gt;</span><span class="mi">10</span> <span class="ow">and</span>  <span class="n">name</span><span class="o">=</span><span class="n">root</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="n">con</span> <span class="o">=</span> <span class="n">Q</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="n">con</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">q1</span><span class="p">,</span> <span class="s1">&#39;AND&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">con</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">q2</span><span class="p">,</span> <span class="s1">&#39;AND&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="mi">1</span> <span class="ow">or</span> <span class="n">age</span><span class="o">=</span><span class="mi">10</span> <span class="p">)</span>  <span class="n">AND</span> <span class="p">(</span><span class="n">size</span><span class="o">&gt;</span><span class="mi">10</span> <span class="ow">and</span>  <span class="n">name</span><span class="o">=</span><span class="n">root</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="ÊôÆÈÄöÊêúÁ¥¢">ÊôÆÈÄöÊêúÁ¥¢
</h4><h4 id="ÁªÑÂêàÊêúÁ¥¢">ÁªÑÂêàÊêúÁ¥¢
</h4><h3 id="ÊùÉÈôêÊåâÈíÆ">ÊùÉÈôêÊåâÈíÆ
</h3><p>Ê≤°ÊùÉÈôêÂ∞±‰∏çË¶ÅÊòæÁ§∫</p>
<h4 id="Âú®Ê®°Êùø‰∏≠Ëá™ÂÆö‰πâÊñπÊ≥ï">Âú®Ê®°Êùø‰∏≠Ëá™ÂÆö‰πâÊñπÊ≥ï
</h4><ul>
<li>filter</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="s2">&#34;xxxx&#34;</span><span class="o">|</span><span class="n">upper</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>simple_tag</li>
</ul>
<p>‰∏çËÉΩÁî®ifÂÅöÊù°‰ª∂</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="p">{</span><span class="o">%</span> <span class="n">xxxx</span> <span class="n">x1</span> <span class="n">x2</span> <span class="n">x3</span> <span class="o">%</span><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">xxx</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="s2">&#34;&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>inclusion_tag</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">xxx</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="p">{</span><span class="s1">&#39;v1&#39;</span><span class="p">:</span><span class="n">xx</span><span class="p">,</span><span class="s1">&#39;v2&#39;</span><span class="p">:</span><span class="n">xx</span><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="p">{{</span><span class="n">v1</span><span class="p">}}</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="ÂèçÂêëÁîüÊàêurl">ÂèçÂêëÁîüÊàêURL
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">path</span><span class="p">(</span><span class="s1">&#39;login/&#39;</span><span class="p">,</span> <span class="n">account</span><span class="o">.</span><span class="n">login</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&#34;login&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">reverse</span><span class="p">(</span><span class="s2">&#34;login&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">path</span><span class="p">(</span><span class="s1">&#39;level/edit/&lt;int:pk&gt;/&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">.</span><span class="n">level_edit</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s2">&#34;level_edit&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">reverse</span><span class="p">(</span><span class="s2">&#34;level/edit&#34;</span><span class="p">,</span><span class="n">kwargs</span><span class="o">=</span><span class="p">{</span><span class="s2">&#34;pk&#34;</span><span class="p">:</span><span class="mi">123</span><span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">re_path</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;level/(\d+)/&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">.</span><span class="n">level_edit</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s2">&#34;level&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">reverse</span><span class="p">(</span><span class="s2">&#34;level/edit&#34;</span><span class="p">,</span><span class="n">wargs</span><span class="o">=</span><span class="p">(</span><span class="mi">111</span><span class="p">))</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="ÂÆûÁé∞">ÂÆûÁé∞
</h4><p>ÊùÉÈôêÁöÑÁ≤íÂ∫¶ÊéßÂà∂Âú®ÊåâÈíÆÔºåÊ†πÊçÆÊòØÂê¶ÂÖ∑ÊúâÊùÉÈôêÊù•ÂÜ≥ÂÆöÊòØÂê¶Â±ïÁ§∫ ÂìçÂ∫îÊåâÈíÆ„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="p">{</span><span class="o">%</span> <span class="n">permission</span> <span class="n">request</span> <span class="s2">&#34;user_add&#34;</span> <span class="n">v1</span><span class="o">=</span><span class="mi">111</span> <span class="n">v2</span><span class="o">=</span><span class="mi">111</span> <span class="o">%</span><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="nd">@register.simple_tag</span>
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">demo</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># 1.ËØªÂèñÁî®Êà∑ËßíËâ≤ÔºåËé∑ÂèñÊùÉÈôêÂ≠óÂÖ∏</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1"># 2.Âà§Êñ≠ÊòØÂê¶ÊúâÊùÉÈôê</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1"># 3.Êó†ÊùÉÈôêÔºåËøîÂõûÁ©∫</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1"># 4.ÊúâÊùÉÈôêÔºåÊ†πÊçÆnameÁîüÊàêURL</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="s2">&#34;....&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/post/python/order_trading_platform/1732417614947-651a16d8-3a0e-41dd-af35-d4f3ab9236b9.png"
	
	
	
	loading="lazy"
	
	
></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">ÁîüÊàêÂÜÖÂÆπÂàÜ‰∏∫ÊåâÈíÆÁöÑÁîüÊàêÂíåË°®Âçï‰∏≠tdÊ†áÁ≠æÁöÑÁîüÊàêÂíåthÊ†áÁÇπÁöÑÁîüÊàê</span>
</span></span><span class="line"><span class="cl"><span class="n">ÂÆ¢Êà∑ÁöÑÂ¢ûÂà†ÊîπÊü•‰∏é‰ª∑Ê†ºÁ≠ñÁï•ÁöÑÂ∑Æ‰∏çÂ§ö</span><span class="err">Ôºå</span><span class="n">Âà†Èô§Êìç‰ΩúÈÉΩÊòØÁîüÊàê‰∏Ä‰∏™cidÂú®Ê†áÁ≠æÈáåÂêéÁª≠ÈÄöËøájsÂèëÈÄÅËá≥ÂêéÁ´Ø</span><span class="err">Ôºå</span>
</span></span><span class="line"><span class="cl"><span class="n">‰ΩÜÁ∫ßÂà´ÁÆ°ÁêÜÊòØÈÄöËøáurl</span><span class="p">:</span><span class="n">level</span><span class="o">/</span><span class="n">delete</span><span class="o">/</span><span class="mi">1</span><span class="n">Êù•Êé•Êî∂pkÁÑ∂ÂêéÁõ¥Êé•Âà†Èô§</span><span class="err">Ôºå</span><span class="n">Ê≤°ÊúâÊ®°ÊÄÅÊ°ÜÁ≠âÊìç‰Ωú</span><span class="err">Ôºå</span><span class="n">Âõ†Ê≠§ÈáçÂÜôdelete_url_permissionÊñπÊ≥ï</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/post/python/order_trading_platform/1732419352138-59ac7616-92c9-4bf0-bd2c-b807c364e1b8.png"
	
	
	
	loading="lazy"
	
	
></p>
<h3 id="Ë∑≥ËΩ¨ÈìæÊé•">Ë∑≥ËΩ¨ÈìæÊé•
</h3><p>Âú®ÁîüÊàêURLÊó∂ÔºåÈúÄË¶ÅËØªÂèñÂΩìÂâçURL‰∏≠ÁöÑÂèÇÊï∞Âπ∂ÊûÑÈÄ†URL„ÄÇ‰æãÂ¶ÇÔºö</p>
<p>ÂΩìÂâçURL</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="mf">127.0.0.1</span><span class="p">:</span><span class="mi">8000</span><span class="o">/</span><span class="n">customer</span><span class="o">/</span><span class="nb">list</span><span class="o">/</span><span class="err">?</span><span class="n">keyword</span><span class="o">=</span><span class="n">xinchen</span><span class="o">&amp;</span><span class="n">page</span><span class="o">=</span><span class="mi">8</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ÊûÑÈÄ†ÂΩìÂâçÈ°µÈù¢URL</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="mf">127.0.0.1</span><span class="p">:</span><span class="mi">8000</span><span class="o">/</span><span class="n">customer</span><span class="o">/</span><span class="n">edit</span><span class="o">/</span><span class="mi">1</span><span class="o">/</span><span class="err">?</span><span class="n">_filter</span><span class="o">=</span><span class="n">keyword</span><span class="o">%</span><span class="mi">3</span><span class="n">Dxinchen</span><span class="o">%</span><span class="mi">26</span><span class="n">page</span><span class="o">%</span><span class="mi">3</span><span class="n">D8</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">param</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="o">.</span><span class="n">urlencode</span><span class="p">()</span> <span class="c1"># keyword=xinchen&amp;page=8</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">new_query_dict</span> <span class="o">=</span> <span class="n">QueryDict</span><span class="p">(</span><span class="n">mutable</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">new_query_dict</span><span class="p">[</span><span class="s1">&#39;_filter&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">param</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">new_query_dict</span><span class="o">.</span><span class="n">urlencode</span><span class="p">()</span>  <span class="n">_filter</span><span class="o">=</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Ë∑≥ËΩ¨ÂõûÊù•Êó∂</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="mf">127.0.0.1</span><span class="p">:</span><span class="mi">8000</span><span class="o">/</span><span class="n">customer</span><span class="o">/</span><span class="nb">list</span><span class="o">/</span><span class="err">?</span><span class="n">keyword</span><span class="o">=</span><span class="n">xinchen</span><span class="o">&amp;</span><span class="n">page</span><span class="o">=</span><span class="mi">8</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">policy_edit</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">pk</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="o">...</span>
</span></span><span class="line"><span class="cl">    <span class="n">base_url</span> <span class="o">=</span> <span class="n">reverse</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="n">args</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="n">kwargs</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">param_url</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;_filter&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">url</span> <span class="o">=</span> <span class="s2">&#34;</span><span class="si">{}</span><span class="s2">?</span><span class="si">{}</span><span class="s2">&#34;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">base_url</span><span class="p">,</span><span class="n">param_url</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/post/python/order_trading_platform/1732420375791-3a55f11f-dbde-49a1-8afb-dc818037c834.png"
	
	
	
	loading="lazy"
	
	
></p>
<h3 id="‰∫ãÂä°">‰∫ãÂä°
</h3><h4 id="‰ªãÁªç">‰ªãÁªç
</h4><p>innodbÂºïÊìé‰∏≠ÊîØÊåÅ‰∫ãÂä°Ôºåmyisam‰∏çÊîØÊåÅ</p>
<p>‰æãÂ¶ÇÔºöA Áªô B ËΩ¨Ë¥¶ 100ÔºåÈÇ£Â∞±‰ºöÊ∂âÂèä2‰∏™Ê≠•È™§„ÄÇ</p>
<ul>
<li>A Ë¥¶Êà∑ Âáè100</li>
<li>B Ë¥¶Êà∑ Âä† 100</li>
</ul>
<p>Ëøô‰∏§‰∏™Ê≠•È™§ÂøÖÈ°ªÂêåÊó∂ÂÆåÊàêÊâçÁÆóÂÆåÊàêÔºåÂπ∂‰∏îÂ¶ÇÊûúÁ¨¨‰∏Ä‰∏™ÂÆåÊàê„ÄÅÁ¨¨‰∫åÊ≠•Â§±Ë¥•ÔºåËøòÊòØÂõûÊªöÂà∞ÂàùÂßãÁä∂ÊÄÅ„ÄÇ</p>
<p>‰∫ãÂä°ÔºåÂ∞±ÊòØÊù•Ëß£ÂÜ≥ËøôÁßçÊÉÖÂÜµÁöÑ„ÄÇ  Â§ßÁôΩËØùÔºöË¶ÅÊàêÂäüÈÉΩÊàêÂäüÔºõË¶ÅÂ§±Ë¥•ÈÉΩÂ§±Ë¥•„ÄÇ</p>
<p>‰∫ãÂä°ÁöÑÂÖ∑ÊúâÂõõÂ§ßÁâπÊÄßÔºàACIDÔºâÔºö</p>
<ul>
<li>ÂéüÂ≠êÊÄßÔºàAtomicityÔºâ</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">ÂéüÂ≠êÊÄßÊòØÊåá‰∫ãÂä°ÂåÖÂê´ÁöÑÊâÄÊúâÊìç‰Ωú‰∏çÂèØÂàÜÂâ≤</span><span class="err">Ôºå</span><span class="n">Ë¶Å‰πàÂÖ®ÈÉ®ÊàêÂäü</span><span class="err">Ôºå</span><span class="n">Ë¶Å‰πàÂÖ®ÈÉ®Â§±Ë¥•ÂõûÊªö</span><span class="err">„ÄÇ</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>‰∏ÄËá¥ÊÄßÔºàConsistencyÔºâ</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">ÊâßË°åÁöÑÂâçÂêéÊï∞ÊçÆÁöÑÂÆåÊï¥ÊÄß‰øùÊåÅ‰∏ÄËá¥</span><span class="err">„ÄÇ</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>ÈöîÁ¶ªÊÄßÔºàIsolationÔºâ</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">‰∏Ä‰∏™‰∫ãÂä°ÊâßË°åÁöÑËøáÁ®ã‰∏≠</span><span class="p">,</span><span class="n">‰∏çÂ∫îËØ•ÂèóÂà∞ÂÖ∂‰ªñ‰∫ãÂä°ÁöÑÂπ≤Êâ∞</span><span class="err">„ÄÇ</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>ÊåÅ‰πÖÊÄßÔºàDurabilityÔºâ</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">‰∫ãÂä°‰∏ÄÊó¶ÁªìÊùü</span><span class="p">,</span><span class="n">Êï∞ÊçÆÂ∞±ÊåÅ‰πÖÂà∞Êï∞ÊçÆÂ∫ì</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="mysqlÂÆ¢Êà∑Á´Ø">MySQLÂÆ¢Êà∑Á´Ø
</h4><ul>
<li>ËÆæÁΩÆÈöîÁ¶ªÁ∫ßÂà´</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">NSACTION</span> <span class="n">ISOLATION</span> <span class="n">LEVEL</span> <span class="p">[</span><span class="n">ÈöîÁ¶ªÁ∫ßÂà´</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Â∏∏ËßÅÈöîÁ¶ªÁ∫ßÂà´</span><span class="err">Ôºö</span>
</span></span><span class="line"><span class="cl">    <span class="n">READ</span> <span class="n">UNCOMMITTED</span><span class="err">Ôºö</span><span class="n">ÂÖÅËÆ∏ËØªÂèñÊú™Êèê‰∫§ÁöÑÊï∞ÊçÆ</span><span class="err">„ÄÇ</span>
</span></span><span class="line"><span class="cl">    <span class="n">READ</span> <span class="n">COMMITTED</span><span class="err">Ôºö</span><span class="n">Âè™ËÉΩËØªÂèñÂ∑≤Êèê‰∫§ÁöÑÊï∞ÊçÆ</span><span class="err">„ÄÇ</span>
</span></span><span class="line"><span class="cl">    <span class="n">REPEATABLE</span> <span class="n">READ</span><span class="err">Ôºö</span><span class="n">Á°Æ‰øùÂú®Âêå‰∏Ä‰∫ãÂä°‰∏≠Â§öÊ¨°ËØªÂèñÂêåÊ†∑ÁöÑËÆ∞ÂΩïÁªìÊûúÊòØ‰∏ÄËá¥ÁöÑ</span><span class="err">„ÄÇ</span>
</span></span><span class="line"><span class="cl">    <span class="n">SERIALIZABLE</span><span class="err">Ôºö</span><span class="n">ÊúÄÈ´òÁöÑÈöîÁ¶ªÁ∫ßÂà´</span><span class="err">Ôºå</span><span class="n">ÂÆåÂÖ®‰∏≤Ë°åÂåñÁöÑ‰∫ãÂä°</span><span class="err">„ÄÇ</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>ÂºÄÂßã‰∫ãÂä°</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">START</span> <span class="n">TRANSACTION</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># BEGIN;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>ÊâßË°åÊï∞ÊçÆÂ∫ìÊìç‰Ωú</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">Âú®‰∫ãÂä°‰∏≠</span><span class="err">Ôºå</span><span class="n">‰Ω†ÂèØ‰ª•ÊâßË°åÂ§ö‰∏™Êï∞ÊçÆÂ∫ìÊìç‰Ωú</span><span class="err">Ôºå</span><span class="n">Â¶ÇINSERT</span><span class="err">„ÄÅ</span><span class="n">UPDATE</span><span class="err">„ÄÅ</span><span class="n">DELETEÁ≠â</span><span class="err">„ÄÇ</span><span class="n">Ëøô‰∫õÊìç‰ΩúÂ∞ÜË¢´ÂåÖÂê´Âú®ÂΩìÂâç‰∫ãÂä°‰∏≠</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>Êèê‰∫§ÊàñÂõûÊªö‰∫ãÂä°</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">Êèê‰∫§‰∫ãÂä°</span>
</span></span><span class="line"><span class="cl"><span class="n">COMMIT</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">ÂõûÊªöÊâÄÊúâÊìç‰Ωú</span>
</span></span><span class="line"><span class="cl"><span class="n">ROLLBACK</span><span class="p">;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="python‰ª£Á†Å">Python‰ª£Á†Å
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">pymysql</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">conn</span> <span class="o">=</span> <span class="n">pymysql</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s1">&#39;127.0.0.1&#39;</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">3306</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="s1">&#39;root&#39;</span><span class="p">,</span> <span class="n">passwd</span><span class="o">=</span><span class="s1">&#39;root123&#39;</span><span class="p">,</span> <span class="n">charset</span><span class="o">=</span><span class="s2">&#34;utf8&#34;</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="s1">&#39;userdb&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">cursor</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># ÂºÄÂêØ‰∫ãÂä°</span>
</span></span><span class="line"><span class="cl"><span class="n">conn</span><span class="o">.</span><span class="n">begin</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&#34;update users set amount=1 where id=1&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nb">int</span><span class="p">(</span><span class="s1">&#39;asdf&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&#34;update tran set amount=2 where id=2&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># ÂõûÊªö</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;ÂõûÊªö&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">conn</span><span class="o">.</span><span class="n">rollback</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># Êèê‰∫§</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;Êèê‰∫§&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">conn</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="djangoÊìç‰Ωú">DjangoÊìç‰Ωú
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">django.db</span> <span class="kn">import</span> <span class="n">transaction</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">with</span> <span class="n">transaction</span><span class="o">.</span><span class="n">atomic</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">	<span class="c1"># Êï∞ÊçÆÂ∫ìÊìç‰ΩúA</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># Êï∞ÊçÆÂ∫ìÊìç‰ΩúB</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ÈîÅ">ÈîÅ
</h3><h4 id="‰ªãÁªç-1">‰ªãÁªç
</h4><p>Âú®Áî®MySQLÊó∂Ôºå‰∏çÁü•‰Ω†ÊòØÂê¶‰ºöÁñëÈóÆÔºöÂêåÊó∂ÊúâÂæàÂ§öÂÅöÊõ¥Êñ∞„ÄÅÊèíÂÖ•„ÄÅÂà†Èô§Âä®‰ΩúÔºåMySQLÂ¶Ç‰Ωï‰øùËØÅÊï∞ÊçÆ‰∏çÂá∫ÈîôÂë¢Ôºü</p>
<p>MySQL‰∏≠Ëá™Â∏¶‰∫ÜÈîÅÁöÑÂäüËÉΩÔºåÂèØ‰ª•Â∏ÆÂä©Êàë‰ª¨ÂÆûÁé∞ÂºÄÂèëËøáÁ®ã‰∏≠ÈÅáÂà∞ÁöÑÂêåÊó∂Â§ÑÁêÜÊï∞ÊçÆÁöÑÊÉÖÂÜµ„ÄÇÂØπ‰∫éÊï∞ÊçÆÂ∫ì‰∏≠ÁöÑÈîÅÔºå‰ªéÈîÅÁöÑËåÉÂõ¥Êù•ËÆ≤ÊúâÔºö</p>
<ul>
<li>Ë°®Á∫ßÈîÅÔºåÂç≥AÊìç‰ΩúË°®Êó∂ÔºåÂÖ∂‰ªñ‰∫∫ÂØπÊï¥‰∏™Ë°®ÈÉΩ‰∏çËÉΩÊìç‰ΩúÔºåÁ≠âÂæÖAÊìç‰ΩúÂÆå‰πãÂêéÔºåÊâçËÉΩÁªßÁª≠„ÄÇ</li>
<li>Ë°åÁ∫ßÈîÅÔºåÂç≥AÊìç‰ΩúË°®Êó∂ÔºåÂÖ∂‰ªñ‰∫∫ÂØπÊåáÂÆöÁöÑË°åÊï∞ÊçÆ‰∏çËÉΩÊìç‰ΩúÔºåÂÖ∂‰ªñË°åÂèØ‰ª•Êìç‰ΩúÔºåÁ≠âÂæÖAÊìç‰ΩúÂÆå‰πãÂêéÔºåÊâçËÉΩÁªßÁª≠„ÄÇ</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">MYISAMÊîØÊåÅË°®ÈîÅ</span><span class="err">Ôºå</span><span class="n">‰∏çÊîØÊåÅË°åÈîÅ</span><span class="err">Ôºõ</span>
</span></span><span class="line"><span class="cl"><span class="n">InnoDBÂºïÊìéÊîØÊåÅË°åÈîÅÂíåË°®ÈîÅ</span><span class="err">„ÄÇ</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Âç≥</span><span class="err">Ôºö</span><span class="n">Âú®MYISAM‰∏ãÂ¶ÇÊûúË¶ÅÂä†ÈîÅ</span><span class="err">Ôºå</span><span class="n">Êó†ËÆ∫ÊÄé‰πàÂä†ÈÉΩ‰ºöÊòØË°®ÈîÅ</span><span class="err">„ÄÇ</span>
</span></span><span class="line"><span class="cl">   <span class="n">Âú®InnoDBÂºïÊìéÊîØÊåÅ‰∏ãÂ¶ÇÊûúÊòØÂü∫‰∫éÁ¥¢ÂºïÊü•ËØ¢ÁöÑÊï∞ÊçÆÂàôÊòØË°åÁ∫ßÈîÅ</span><span class="err">Ôºå</span><span class="n">Âê¶ÂàôÂ∞±ÊòØË°®ÈîÅ</span><span class="err">„ÄÇ</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ÊâÄ‰ª•Ôºå‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÊàë‰ª¨‰ºöÈÄâÊã©‰ΩøÁî®innodbÂºïÊìéÔºåÂπ∂‰∏îÂú® ÊêúÁ¥¢ Êó∂‰πü‰ºö‰ΩøÁî®Á¥¢ÂºïÔºàÂëΩ‰∏≠Á¥¢ÂºïÔºâ„ÄÇ</p>
<p>Âú®innodbÂºïÊìé‰∏≠Ôºåupdate„ÄÅinsert„ÄÅdeleteÁöÑË°å‰∏∫ÂÜÖÈÉ®ÈÉΩ‰ºöÂÖàÁî≥ËØ∑ÈîÅÔºàÊéíÂÆÉÈîÅÔºâÔºåÁî≥ËØ∑Âà∞‰πãÂêéÊâçÊâßË°åÁõ∏ÂÖ≥Êìç‰ΩúÔºåÊúÄÂêéÂÜçÈáäÊîæÈîÅ„ÄÇ</p>
<p>ÊâÄ‰ª•ÔºåÂΩìÂ§ö‰∏™‰∫∫ÂêåÊó∂ÂÉèÊï∞ÊçÆÂ∫ìÊâßË°åÔºöinsert„ÄÅupdate„ÄÅdeleteÁ≠âÊìç‰ΩúÊó∂ÔºåÂÜÖÈÉ®Âä†ÈîÅÂêé‰ºöÊéíÈòüÈÄê‰∏ÄÊâßË°å„ÄÇ</p>
<p>ËÄåselectÂàôÈªòËÆ§‰∏ç‰ºöÁî≥ËØ∑ÈîÅ„ÄÇ</p>
<p>Â¶ÇÊûúÔºå‰Ω†ÊÉ≥Ë¶ÅËÆ©selectÂéªÁî≥ËØ∑ÈîÅÔºåÂàôÈúÄË¶ÅÈÖçÂêà ‰∫ãÂä° + ÁâπÊÆäËØ≠Ê≥ïÊù•ÂÆûÁé∞„ÄÇ</p>
<p><code>for update</code>ÔºåÊéíÂÆÉÈîÅÔºåÂä†ÈîÅ‰πãÂêéÔºåÂÖ∂‰ªñ‰∏çÂèØ‰ª•ËØªÂÜô</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">begin</span><span class="p">;</span> 
</span></span><span class="line"><span class="cl">	<span class="n">select</span> <span class="o">*</span> <span class="kn">from</span> <span class="nn">L1</span> <span class="n">where</span> <span class="n">name</span><span class="o">=</span><span class="s2">&#34;Ê≠¶Ê≤õÈΩê&#34;</span> <span class="k">for</span> <span class="n">update</span><span class="p">;</span>    <span class="o">--</span> <span class="n">nameÂàó‰∏çÊòØÁ¥¢Âºï</span><span class="err">Ôºà</span><span class="n">Ë°®ÈîÅ</span><span class="err">Ôºâ</span>
</span></span><span class="line"><span class="cl"><span class="n">commit</span><span class="p">;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">begin</span><span class="p">;</span> <span class="o">--</span> <span class="n">ÊàñËÄÖ</span> <span class="n">start</span> <span class="n">transaction</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="n">select</span> <span class="o">*</span> <span class="kn">from</span> <span class="nn">L1</span> <span class="n">where</span> <span class="nb">id</span><span class="o">=</span><span class="mi">1</span> <span class="k">for</span> <span class="n">update</span><span class="p">;</span>			  <span class="o">--</span> <span class="n">idÂàóÊòØÁ¥¢Âºï</span><span class="err">Ôºà</span><span class="n">Ë°åÈîÅ</span><span class="err">Ôºâ</span>
</span></span><span class="line"><span class="cl"><span class="n">commit</span><span class="p">;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Âü∫‰∫éPython‰ª£Á†ÅÁ§∫‰æã</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">pymysql</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">threading</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">task</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="n">conn</span> <span class="o">=</span> <span class="n">pymysql</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s1">&#39;127.0.0.1&#39;</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">3306</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="s1">&#39;root&#39;</span><span class="p">,</span> <span class="n">passwd</span><span class="o">=</span><span class="s1">&#39;root123&#39;</span><span class="p">,</span> <span class="n">charset</span><span class="o">=</span><span class="s2">&#34;utf8&#34;</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="s1">&#39;userdb&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">cursor</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">(</span><span class="n">pymysql</span><span class="o">.</span><span class="n">cursors</span><span class="o">.</span><span class="n">DictCursor</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># cursor = conn.cursor()</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">    <span class="c1"># ÂºÄÂêØ‰∫ãÂä°</span>
</span></span><span class="line"><span class="cl">    <span class="n">conn</span><span class="o">.</span><span class="n">begin</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&#34;select id,age from tran where id=2 for update&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># fetchall      ( {&#34;id&#34;:1,&#34;age&#34;:10},{&#34;id&#34;:2,&#34;age&#34;:10}, )   ((1,10),(2,10))</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># {&#34;id&#34;:1,&#34;age&#34;:10}   (1,10)</span>
</span></span><span class="line"><span class="cl">    <span class="n">result</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchone</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="n">current_age</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="s1">&#39;age&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">current_age</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&#34;update tran set age=age-1 where id=2&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;Â∑≤ÂîÆÁΩÑ&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">conn</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">run</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="n">t</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">task</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">t</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">run</span><span class="p">()</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="messageÁªÑ‰ª∂">MessageÁªÑ‰ª∂
</h3><p><img src="/post/python/order_trading_platform/1732720463327-c9cff61e-1c73-4592-a43f-b2363cdf865d.png"
	
	
	
	loading="lazy"
	
	
></p>
<h4 id="ÈÖçÁΩÆ">ÈÖçÁΩÆ
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># MESSAGE_STORAGE = &#39;django.contrib.messages.storage.fallback.FallbackStorage&#39;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># MESSAGE_STORAGE = &#39;django.contrib.messages.storage.cookie.CookieStorage&#39;</span>
</span></span><span class="line"><span class="cl"><span class="n">MESSAGE_STORAGE</span> <span class="o">=</span> <span class="s1">&#39;django.contrib.messages.storage.session.SessionStorage&#39;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Â¶ÇÂõæÂõõ‰∏™‰ΩçÁΩÆ</p>
<p><img src="/post/python/order_trading_platform/1732720505524-787489d0-acec-4b44-9f2a-0f284c23571d.png"
	
	
	
	loading="lazy"
	
	
></p>
<h4 id="ËØªÂèñÂÄº">ËØªÂèñÂÄº
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">django.contrib.messages.api</span> <span class="kn">import</span> <span class="n">get_messages</span>
</span></span><span class="line"><span class="cl"><span class="n">messages</span> <span class="o">=</span> <span class="n">get_messages</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">msg</span> <span class="ow">in</span> <span class="n">messages</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="o">&lt;</span><span class="n">ul</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span><span class="o">%</span> <span class="k">for</span> <span class="n">message</span> <span class="ow">in</span> <span class="n">messages</span> <span class="o">%</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">	    <span class="o">&lt;</span><span class="n">li</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">message</span><span class="o">.</span><span class="n">tags</span> <span class="p">}}</span> <span class="p">{{</span> <span class="n">message</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span><span class="o">%</span> <span class="n">endfor</span> <span class="o">%</span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;/</span><span class="n">ul</span><span class="o">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/post/python/order_trading_platform/1732720567644-3d4b2423-3498-4e03-8101-48bf4dff412d.png"
	
	
	
	loading="lazy"
	
	
></p>
<h4 id="Ê∫êÁ†ÅÂàÜÊûê">Ê∫êÁ†ÅÂàÜÊûê
</h4><p>ÂâçÊàèÔºömessageÊòØ‰∏Ä‰∏™ÂØπË±°ÔºàÂåÖË£πÔºâ„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">v1</span> <span class="o">=</span> <span class="s2">&#34;wupeiqi&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">v2</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&#34;Ê≠¶Ê≤õÈΩê&#34;</span><span class="p">,</span><span class="mi">123</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Message</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">level</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">extra_tags</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">level</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">level</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">message</span> <span class="o">=</span> <span class="n">message</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">extra_tags</span> <span class="o">=</span> <span class="n">extra_tags</span>
</span></span><span class="line"><span class="cl">		
</span></span><span class="line"><span class="cl"><span class="n">obj</span> <span class="o">=</span> <span class="n">Message</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="s2">&#34;ÂìàÂìàÂìàÂìà&#34;</span><span class="p">,</span><span class="s2">&#34;123&#34;</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">django.contrib</span> <span class="kn">import</span> <span class="n">messages</span>
</span></span><span class="line"><span class="cl"><span class="n">messages</span><span class="o">.</span><span class="n">add_message</span><span class="p">(</span><span class="n">reqeust</span><span class="p">,</span> <span class="n">messages</span><span class="o">.</span><span class="n">ERROR</span><span class="p">,</span> <span class="s2">&#34;Âà†Èô§ÊàêÂäü1&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">messages</span><span class="o">.</span><span class="n">add_message</span><span class="p">(</span><span class="n">reqeust</span><span class="p">,</span> <span class="n">messages</span><span class="o">.</span><span class="n">SUCCESS</span><span class="p">,</span> <span class="s2">&#34;Âà†Èô§ÊàêÂäü2&#34;</span><span class="p">,</span> <span class="n">extra_tags</span><span class="o">=</span><span class="s2">&#34;ÂìàÂìàÂìà&#34;</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/post/python/order_trading_platform/1732720676596-a3032643-a0f7-4073-a3ff-abe7f170a6eb.png"
	
	
	
	loading="lazy"
	
	
></p>
<p><img src="/post/python/order_trading_platform/1732720682764-31163ba5-8c3d-485a-a48d-a78521419e80.png"
	
	
	
	loading="lazy"
	
	
></p>
<ul>
<li>„ÄêËÆæÁΩÆ„Äë‰∏≠Èó¥‰ª∂process_requestÂä†ËΩΩ</li>
<li>„ÄêËÆæÁΩÆ„ÄëÂú®ËßÜÂõæÂáΩÊï∞‰∏≠ÂæÄmessage‰∏≠ÂÜôÂÖ•ÂÄºÔºàÂÜÖÂ≠òÔºâ</li>
<li>„ÄêËÆæÁΩÆ„Äë‰∏≠Èó¥‰ª∂process_responseÔºåÂ∞ÜÂÜÖÂ≠ò‰∏≠Êñ∞Â¢ûÁöÑÊï∞ÊçÆÂÜôÂÖ•Âà∞Êï∞ÊçÆÊ∫ê</li>
<li>„ÄêÊñ∞È°µÈù¢„Äë‰∏≠Èó¥‰ª∂process_requestÂä†ËΩΩ</li>
<li>„ÄêÊñ∞È°µÈù¢„ÄëÂú®ËßÜÂõæÂáΩÊï∞ÊàñÊ®°Êùø‰∏≠ËØªÂèñmessage‰∏≠ÁöÑ‰ø°ÊÅØÔºàËÄÅÁöÑÊï∞ÊçÆÊ∫êÂä†ËΩΩÁöÑ+Êñ∞Â¢ûÁöÑÔºâ</li>
<li>„ÄêËÆæÁΩÆ„Äë‰∏≠Èó¥‰ª∂process_response</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">used</span> <span class="o">=</span> <span class="kc">True</span><span class="err">Ôºå</span><span class="n">ÂàôÂè™‰øùÂ≠òÊñ∞Â¢ûÈÉ®ÂàÜ</span><span class="err">„ÄÇ</span>
</span></span><span class="line"><span class="cl"><span class="n">added_new</span> <span class="o">=</span> <span class="kc">True</span><span class="err">Ôºå</span><span class="n">ËÄÅÁöÑÊï∞ÊçÆÊ∫êÂä†ËΩΩÁöÑ</span><span class="o">+</span><span class="n">Êñ∞Â¢ûÁöÑÈÉΩÈáçÊñ∞‰øùÂ≠òÂà∞Êï∞ÊçÆÊ∫ê</span><span class="err">„ÄÇ</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ÊµÅÁ®ãÂàÜÊûêÔºö</p>
<ul>
<li>1.1 process_request</li>
</ul>
<p><img src="/post/python/order_trading_platform/1732720747603-5775175f-9420-481a-90af-d35b154cf25f.png"
	
	
	
	loading="lazy"
	
	
></p>
<p><img src="/post/python/order_trading_platform/1732720752615-2aa212e3-bc17-4946-a4be-4ba5cd7bb10f.png"
	
	
	
	loading="lazy"
	
	
></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">Áªôrequest</span><span class="o">.</span><span class="n">_messageËµãÂÄº‰∫Ü‰∏Ä‰∏™SessionStorageÂØπË±°</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>1.2 Âà†Èô§ËßÜÂõæ</li>
</ul>
<p><img src="/post/python/order_trading_platform/1732720777652-624b9187-f46d-4c6e-8cf4-a26680c26721.png"
	
	
	
	loading="lazy"
	
	
></p>
<ul>
<li>1.3 request_response</li>
</ul>
<p><img src="/post/python/order_trading_platform/1732720791532-35f3a55a-352d-4d01-900b-5118d007448d.png"
	
	
	
	loading="lazy"
	
	
></p>
<ul>
<li>2.1 process_request + ÂàóË°®ËßÜÂõæ</li>
</ul>
<p><img src="/post/python/order_trading_platform/1732720810924-4c5bbd80-c48a-41ef-a072-c04da375676b.png"
	
	
	
	loading="lazy"
	
	
></p>
<ul>
<li>2.2 request_response</li>
</ul>
<p><img src="/post/python/order_trading_platform/1732720828091-ff87ebff-38e7-4373-9f97-01fd9b82ada5.png"
	
	
	
	loading="lazy"
	
	
></p>
<h3 id="ÁªÑÂêàÊêúÁ¥¢-1">ÁªÑÂêàÊêúÁ¥¢
</h3><p>ÂÖ∑‰ΩìÂÆûÁé∞ÔºöÁï•</p>
<h4 id="‰ΩøÁî®">‰ΩøÁî®
</h4><p>Âú®ËßÜÂõæÂáΩÊï∞‰∏≠</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">django.shortcuts</span> <span class="kn">import</span> <span class="n">render</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">web</span> <span class="kn">import</span> <span class="n">models</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">utils.pager</span> <span class="kn">import</span> <span class="n">Pagination</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">django.db.models</span> <span class="kn">import</span> <span class="n">Q</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">utils.group</span> <span class="kn">import</span> <span class="n">Option</span><span class="p">,</span> <span class="n">NbSearchGroup</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">my_transaction_list</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;ÊàëÁöÑ‰∫§ÊòìËÆ∞ÂΩï&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># Á¨¨‰∏ÄÊ≠•ÔºöÈÖçÁΩÆÂíå‰º†ÂèÇ</span>
</span></span><span class="line"><span class="cl">    <span class="n">search_group</span> <span class="o">=</span> <span class="n">NbSearchGroup</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">        <span class="n">request</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">models</span><span class="o">.</span><span class="n">TransactionRecord</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">Option</span><span class="p">(</span><span class="s1">&#39;charge_type&#39;</span><span class="p">),</span> <span class="c1"># choice</span>
</span></span><span class="line"><span class="cl">    <span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1"># Á¨¨‰∫åÊ≠•ÔºöËé∑ÂèñÊù°‰ª∂</span>
</span></span><span class="line"><span class="cl">    <span class="n">queryset</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">TransactionRecord</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="o">**</span><span class="n">search_group</span><span class="o">.</span><span class="n">get_condition</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">pager</span> <span class="o">=</span> <span class="n">Pagination</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">queryset</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1"># Á¨¨‰∏âÊ≠•Ôºö‰º†ÂÖ•ÂâçÁ´ØÈ°µÈù¢</span>
</span></span><span class="line"><span class="cl">    <span class="n">context</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;pager&#34;</span><span class="p">:</span> <span class="n">pager</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;keyword&#34;</span><span class="p">:</span> <span class="n">keyword</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;search_group_row_list&#34;</span><span class="p">:</span> <span class="n">search_group</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s2">&#34;my_transaction_list.html&#34;</span><span class="p">,</span> <span class="n">context</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1">#ÊØçÁâà</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="n">link</span> <span class="n">rel</span><span class="o">=</span><span class="s2">&#34;stylesheet&#34;</span> <span class="n">href</span><span class="o">=</span><span class="s2">&#34;{</span><span class="si">% s</span><span class="s2">tatic &#39;css/search-group.css&#39; %}&#34;</span><span class="o">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Ê®°Êùø</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="p">{</span><span class="o">%</span> <span class="n">block</span> <span class="n">content</span> <span class="o">%</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span><span class="o">%</span> <span class="n">include</span> <span class="s1">&#39;include/search_group.html&#39;</span> <span class="o">%</span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span><span class="o">%</span> <span class="n">endblock</span> <span class="o">%</span><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ÊùÇ">ÊùÇ
</h3><h4 id="Âú®ÂÖ®Â±ÄÂèòÈáè‰∏≠ÂÆö‰πâËá™Â∑±ÁöÑ‰∏ìÂ±ûÈÖçÁΩÆ">Âú®ÂÖ®Â±ÄÂèòÈáè‰∏≠ÂÆö‰πâËá™Â∑±ÁöÑ‰∏ìÂ±ûÈÖçÁΩÆ
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">django.conf</span> <span class="kn">import</span> <span class="n">settings</span>
</span></span><span class="line"><span class="cl"><span class="n">Âú®settingsÊñá‰ª∂‰∏≠ÂÆö‰πâ‰∏ìÂ±ûÈÖçÁΩÆ</span><span class="err">Ôºà</span><span class="n">ÂêçÁß∞ÂøÖÈ°ªÂ§ßÂÜô</span><span class="err">Ôºâ</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="Èù¢ÂêëÂØπË±°Â∞èÁü•ËØÜ">Èù¢ÂêëÂØπË±°Â∞èÁü•ËØÜ
</h4><h5 id="superÂÖ≥ÈîÆÂ≠ó-1">superÂÖ≥ÈîÆÂ≠ó
</h5><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">superÊòØÊâæÁà∂Á±ª‰∏≠ÁöÑÊàêÂëòÂêó</span><span class="err">Ôºü</span><span class="n">‰∏çÂáÜÁ°Æ</span><span class="err">„ÄÇ</span>
</span></span><span class="line"><span class="cl"><span class="nb">super</span><span class="p">,</span><span class="n">Â∞±ÊòØÊ†πÊçÆÁ±ªÁöÑÁªßÊâøÂÖ≥Á≥ª</span><span class="err">Ôºà</span><span class="n">mro</span><span class="err">ÔºâÔºå</span><span class="n">ÈÄêÊ≠•Êôö‰∏äÊâæ</span><span class="err">„ÄÇ</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Base</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">f1</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;Base&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Foo</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">	<span class="k">pass</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Bar</span><span class="p">(</span><span class="n">Foo</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">f1</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;Bar&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">f1</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">obj</span> <span class="o">=</span> <span class="n">Bar</span><span class="p">()</span>  <span class="c1"># [Bar,Foo,Base]</span>
</span></span><span class="line"><span class="cl"><span class="n">obj</span><span class="o">.</span><span class="n">f1</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Bar Base</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Base</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">f1</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;Base&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Foo</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">f1</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;Foo&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">f1</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Bar</span><span class="p">(</span><span class="n">Foo</span><span class="p">,</span><span class="n">Base</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">f1</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;Bar&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">f1</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl"><span class="n">obj</span> <span class="o">=</span> <span class="n">Bar</span><span class="p">()</span>  <span class="c1"># [Bar,Foo,Base]</span>
</span></span><span class="line"><span class="cl"><span class="n">obj</span><span class="o">.</span><span class="n">f1</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Bar Foo Base</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Base</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">f1</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;Base&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Foo</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">f1</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;Foo&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">f1</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Bar</span><span class="p">(</span><span class="n">Foo</span><span class="p">,</span><span class="n">Base</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">f1</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;Bar&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">f1</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl"><span class="n">obj</span> <span class="o">=</span> <span class="n">Foo</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">obj</span><span class="o">.</span><span class="n">f1</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Foo</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="È°πÁõÆ">È°πÁõÆ
</h2><p><strong>ÂàùÂßãÂåñÂü∫Êú¨ÊµÅÁ®ãÔºö</strong></p>
<ul>
<li>Êñ∞Âª∫È°πÁõÆ„ÄÅËôöÊãüÁéØÂ¢É„ÄÅpip„ÄÅproject„ÄÅapp</li>
<li>Êñ∞Âª∫Êï∞ÊçÆÂ∫ì„ÄÅÈÖçÁΩÆÊï∞ÊçÆÂ∫ìËøûÊé•„ÄÅÁ≤æÁÆÄÂåñdjango</li>
<li>ÂàõÂª∫Ë°®ÁªìÊûÑÔºàÊ≥®ÂÜåapp„ÄÅÊ≥®ÈáäadminÔºâ</li>
</ul>
<p><strong>urls.pyË∑ØÁî±ÈÖçÁΩÆÔºö</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># from django.contrib import admin</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">django.urls</span> <span class="kn">import</span> <span class="n">path</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">web.views</span> <span class="kn">import</span> <span class="n">account</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">web.views</span> <span class="kn">import</span> <span class="n">level</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">web.views</span> <span class="kn">import</span> <span class="n">customer</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">web.views</span> <span class="kn">import</span> <span class="n">policy</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">web.views</span> <span class="kn">import</span> <span class="n">my_order</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">web.views</span> <span class="kn">import</span> <span class="n">my_transaction</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># path(&#39;admin/&#39;, admin.site.urls),</span>
</span></span><span class="line"><span class="cl">    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;login/&#39;</span><span class="p">,</span> <span class="n">account</span><span class="o">.</span><span class="n">login</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&#34;login&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;sms/login/&#39;</span><span class="p">,</span> <span class="n">account</span><span class="o">.</span><span class="n">sms_login</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&#34;sms_login&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;sms/send/&#39;</span><span class="p">,</span> <span class="n">account</span><span class="o">.</span><span class="n">sms_send</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&#34;sms_send&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;logout/&#39;</span><span class="p">,</span> <span class="n">account</span><span class="o">.</span><span class="n">logout</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&#34;logout&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;home/&#39;</span><span class="p">,</span> <span class="n">account</span><span class="o">.</span><span class="n">home</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&#34;home&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;level/list/&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">.</span><span class="n">level_list</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&#34;level_list&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;level/add/&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">.</span><span class="n">level_add</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&#34;level_add&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;level/edit/&lt;int:pk&gt;/&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">.</span><span class="n">level_edit</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&#34;level_edit&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;level/delete/&lt;int:pk&gt;/&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">.</span><span class="n">level_delete</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&#34;level_delete&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;customer/list/&#39;</span><span class="p">,</span> <span class="n">customer</span><span class="o">.</span><span class="n">customer_list</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&#34;customer_list&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;customer/add/&#39;</span><span class="p">,</span> <span class="n">customer</span><span class="o">.</span><span class="n">customer_add</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&#34;customer_add&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;customer/edit/&lt;int:pk&gt;/&#39;</span><span class="p">,</span> <span class="n">customer</span><span class="o">.</span><span class="n">customer_edit</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&#34;customer_edit&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;customer/reset/&lt;int:pk&gt;/&#39;</span><span class="p">,</span> <span class="n">customer</span><span class="o">.</span><span class="n">customer_reset</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&#34;customer_reset&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;customer/delete/&#39;</span><span class="p">,</span> <span class="n">customer</span><span class="o">.</span><span class="n">customer_delete</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&#34;customer_delete&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;customer/charge/&lt;int:pk&gt;/&#39;</span><span class="p">,</span> <span class="n">customer</span><span class="o">.</span><span class="n">customer_charge</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&#34;customer_charge&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;customer/charge/&lt;int:pk&gt;/add&#39;</span><span class="p">,</span> <span class="n">customer</span><span class="o">.</span><span class="n">customer_charge_add</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&#34;customer_charge_add&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;policy/list/&#39;</span><span class="p">,</span> <span class="n">policy</span><span class="o">.</span><span class="n">policy_list</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&#34;policy_list&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;policy/add/&#39;</span><span class="p">,</span> <span class="n">policy</span><span class="o">.</span><span class="n">policy_add</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&#34;policy_add&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;policy/edit/&lt;int:pk&gt;/&#39;</span><span class="p">,</span> <span class="n">policy</span><span class="o">.</span><span class="n">policy_edit</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&#34;policy_edit&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;policy/delete/&#39;</span><span class="p">,</span> <span class="n">policy</span><span class="o">.</span><span class="n">policy_delete</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&#34;policy_delete&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;my/order/list/&#39;</span><span class="p">,</span> <span class="n">my_order</span><span class="o">.</span><span class="n">my_order_list</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&#34;my_order_list&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;my/order/add/&#39;</span><span class="p">,</span> <span class="n">my_order</span><span class="o">.</span><span class="n">my_order_add</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&#34;my_order_add&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;my/order/cancel/&lt;int:pk&gt;/&#39;</span><span class="p">,</span> <span class="n">my_order</span><span class="o">.</span><span class="n">my_order_cancel</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&#34;my_order_cancel&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;my/transaction/list/&#39;</span><span class="p">,</span> <span class="n">my_transaction</span><span class="o">.</span><span class="n">my_transaction_list</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&#34;my_transaction_list&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;transaction/list/&#39;</span><span class="p">,</span> <span class="n">my_transaction</span><span class="o">.</span><span class="n">transaction_list</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&#34;transaction_list&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">]</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>settings.pyÈÖçÁΩÆÔºö</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span><span class="lnt">128
</span><span class="lnt">129
</span><span class="lnt">130
</span><span class="lnt">131
</span><span class="lnt">132
</span><span class="lnt">133
</span><span class="lnt">134
</span><span class="lnt">135
</span><span class="lnt">136
</span><span class="lnt">137
</span><span class="lnt">138
</span><span class="lnt">139
</span><span class="lnt">140
</span><span class="lnt">141
</span><span class="lnt">142
</span><span class="lnt">143
</span><span class="lnt">144
</span><span class="lnt">145
</span><span class="lnt">146
</span><span class="lnt">147
</span><span class="lnt">148
</span><span class="lnt">149
</span><span class="lnt">150
</span><span class="lnt">151
</span><span class="lnt">152
</span><span class="lnt">153
</span><span class="lnt">154
</span><span class="lnt">155
</span><span class="lnt">156
</span><span class="lnt">157
</span><span class="lnt">158
</span><span class="lnt">159
</span><span class="lnt">160
</span><span class="lnt">161
</span><span class="lnt">162
</span><span class="lnt">163
</span><span class="lnt">164
</span><span class="lnt">165
</span><span class="lnt">166
</span><span class="lnt">167
</span><span class="lnt">168
</span><span class="lnt">169
</span><span class="lnt">170
</span><span class="lnt">171
</span><span class="lnt">172
</span><span class="lnt">173
</span><span class="lnt">174
</span><span class="lnt">175
</span><span class="lnt">176
</span><span class="lnt">177
</span><span class="lnt">178
</span><span class="lnt">179
</span><span class="lnt">180
</span><span class="lnt">181
</span><span class="lnt">182
</span><span class="lnt">183
</span><span class="lnt">184
</span><span class="lnt">185
</span><span class="lnt">186
</span><span class="lnt">187
</span><span class="lnt">188
</span><span class="lnt">189
</span><span class="lnt">190
</span><span class="lnt">191
</span><span class="lnt">192
</span><span class="lnt">193
</span><span class="lnt">194
</span><span class="lnt">195
</span><span class="lnt">196
</span><span class="lnt">197
</span><span class="lnt">198
</span><span class="lnt">199
</span><span class="lnt">200
</span><span class="lnt">201
</span><span class="lnt">202
</span><span class="lnt">203
</span><span class="lnt">204
</span><span class="lnt">205
</span><span class="lnt">206
</span><span class="lnt">207
</span><span class="lnt">208
</span><span class="lnt">209
</span><span class="lnt">210
</span><span class="lnt">211
</span><span class="lnt">212
</span><span class="lnt">213
</span><span class="lnt">214
</span><span class="lnt">215
</span><span class="lnt">216
</span><span class="lnt">217
</span><span class="lnt">218
</span><span class="lnt">219
</span><span class="lnt">220
</span><span class="lnt">221
</span><span class="lnt">222
</span><span class="lnt">223
</span><span class="lnt">224
</span><span class="lnt">225
</span><span class="lnt">226
</span><span class="lnt">227
</span><span class="lnt">228
</span><span class="lnt">229
</span><span class="lnt">230
</span><span class="lnt">231
</span><span class="lnt">232
</span><span class="lnt">233
</span><span class="lnt">234
</span><span class="lnt">235
</span><span class="lnt">236
</span><span class="lnt">237
</span><span class="lnt">238
</span><span class="lnt">239
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Build paths inside the project like this: BASE_DIR / &#39;subdir&#39;.</span>
</span></span><span class="line"><span class="cl"><span class="n">BASE_DIR</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">parent</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Quick-start development settings - unsuitable for production</span>
</span></span><span class="line"><span class="cl"><span class="c1"># See https://docs.djangoproject.com/en/3.2/howto/deployment/checklist/</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># SECURITY WARNING: keep the secret key used in production secret!</span>
</span></span><span class="line"><span class="cl"><span class="n">SECRET_KEY</span> <span class="o">=</span> <span class="s1">&#39;django-insecure-9pt%1b</span><span class="si">%f</span><span class="s1">2*&amp;*)ipcfmzec&amp;69r(e(q#(2m-$yx1m85g-4-pi%wz&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># SECURITY WARNING: don&#39;t run with debug turned on in production!</span>
</span></span><span class="line"><span class="cl"><span class="n">DEBUG</span> <span class="o">=</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">ALLOWED_HOSTS</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Application definition</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">INSTALLED_APPS</span> <span class="o">=</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># &#39;django.contrib.admin&#39;,</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># &#39;django.contrib.auth&#39;,</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># &#39;django.contrib.contenttypes&#39;,</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># &#39;django.contrib.sessions&#39;,</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;django.contrib.messages&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;django.contrib.staticfiles&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;web.apps.WebConfig&#39;</span>
</span></span><span class="line"><span class="cl"><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">MIDDLEWARE</span> <span class="o">=</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># &#39;django.middleware.security.SecurityMiddleware&#39;,</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;django.contrib.sessions.middleware.SessionMiddleware&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;django.middleware.common.CommonMiddleware&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;django.middleware.csrf.CsrfViewMiddleware&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># &#39;django.contrib.auth.middleware.AuthenticationMiddleware&#39;,</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;django.contrib.messages.middleware.MessageMiddleware&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;django.middleware.clickjacking.XFrameOptionsMiddleware&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;utils.md.AuthMiddleware&#39;</span>
</span></span><span class="line"><span class="cl"><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">ROOT_URLCONF</span> <span class="o">=</span> <span class="s1">&#39;day06.urls&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">TEMPLATES</span> <span class="o">=</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="s1">&#39;BACKEND&#39;</span><span class="p">:</span> <span class="s1">&#39;django.template.backends.django.DjangoTemplates&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="s1">&#39;DIRS&#39;</span><span class="p">:</span> <span class="p">[],</span>
</span></span><span class="line"><span class="cl">        <span class="s1">&#39;APP_DIRS&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="s1">&#39;OPTIONS&#39;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;context_processors&#39;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="s1">&#39;django.template.context_processors.debug&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="s1">&#39;django.template.context_processors.request&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="c1"># &#39;django.contrib.auth.context_processors.auth&#39;,</span>
</span></span><span class="line"><span class="cl">                <span class="s1">&#39;django.contrib.messages.context_processors.messages&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="p">],</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">WSGI_APPLICATION</span> <span class="o">=</span> <span class="s1">&#39;day06.wsgi.application&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Database</span>
</span></span><span class="line"><span class="cl"><span class="c1"># https://docs.djangoproject.com/en/3.2/ref/settings/#databases</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">DATABASES</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Password validation</span>
</span></span><span class="line"><span class="cl"><span class="c1"># https://docs.djangoproject.com/en/3.2/ref/settings/#auth-password-validators</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">AUTH_PASSWORD_VALIDATORS</span> <span class="o">=</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="s1">&#39;NAME&#39;</span><span class="p">:</span> <span class="s1">&#39;django.contrib.auth.password_validation.UserAttributeSimilarityValidator&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="s1">&#39;NAME&#39;</span><span class="p">:</span> <span class="s1">&#39;django.contrib.auth.password_validation.MinimumLengthValidator&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="s1">&#39;NAME&#39;</span><span class="p">:</span> <span class="s1">&#39;django.contrib.auth.password_validation.CommonPasswordValidator&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="s1">&#39;NAME&#39;</span><span class="p">:</span> <span class="s1">&#39;django.contrib.auth.password_validation.NumericPasswordValidator&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Internationalization</span>
</span></span><span class="line"><span class="cl"><span class="c1"># https://docs.djangoproject.com/en/3.2/topics/i18n/</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># LANGUAGE_CODE = &#39;en-us&#39;</span>
</span></span><span class="line"><span class="cl"><span class="n">LANGUAGE_CODE</span> <span class="o">=</span> <span class="s1">&#39;zh-hans&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">TIME_ZONE</span> <span class="o">=</span> <span class="s1">&#39;UTC&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">USE_I18N</span> <span class="o">=</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">USE_L10N</span> <span class="o">=</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">USE_TZ</span> <span class="o">=</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Static files (CSS, JavaScript, Images)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># https://docs.djangoproject.com/en/3.2/howto/static-files/</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">STATIC_URL</span> <span class="o">=</span> <span class="s1">&#39;/static/&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Default primary key field type</span>
</span></span><span class="line"><span class="cl"><span class="c1"># https://docs.djangoproject.com/en/3.2/ref/settings/#default-auto-field</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">DEFAULT_AUTO_FIELD</span> <span class="o">=</span> <span class="s1">&#39;django.db.models.BigAutoField&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">MENU</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;ADMIN&#34;</span><span class="p">:</span> <span class="p">[],</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;CUSTOMER&#34;</span><span class="p">:</span> <span class="p">[],</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">PERMISSION</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;ADMIN&#34;</span><span class="p">:</span> <span class="p">[],</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;CUSTOMER&#34;</span><span class="p">:</span> <span class="p">[],</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># cacheÁºìÂ≠òÈÖçÁΩÆ</span>
</span></span><span class="line"><span class="cl"><span class="n">CACHES</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># sessionÈÖçÁΩÆ</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">SESSION_ENGINE</span> <span class="o">=</span> <span class="s1">&#39;django.contrib.sessions.backends.cache&#39;</span>
</span></span><span class="line"><span class="cl"><span class="n">SESSION_CACHE_ALIAS</span> <span class="o">=</span> <span class="s1">&#39;default&#39;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Ëá™ÂÆö‰πâcookieËøáÊúüÊó∂Èó¥</span>
</span></span><span class="line"><span class="cl"><span class="n">SESSION_COOKIE_AGE</span> <span class="o">=</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">24</span> <span class="o">*</span> <span class="mi">7</span> <span class="o">*</span> <span class="mi">2</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#   Ëá™ÂÆö‰πâÈÖçÁΩÆ</span>
</span></span><span class="line"><span class="cl"><span class="n">LOGIN_HOME</span> <span class="o">=</span> <span class="s2">&#34;/home/&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">MY_SESSION_KEY</span> <span class="o">=</span> <span class="s2">&#34;user_info&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">MY_LOGIN_URL</span> <span class="o">=</span> <span class="s2">&#34;/login/&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">MY_WHITE_URL</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&#34;/login/&#34;</span><span class="p">,</span> <span class="s2">&#34;/sms/login/&#34;</span><span class="p">,</span> <span class="s2">&#34;/sms/send/&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">MY_MENU</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;ADMIN&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;text&#39;</span><span class="p">:</span> <span class="s2">&#34;Áî®Êà∑‰ø°ÊÅØ&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;icon&#39;</span><span class="p">:</span> <span class="s2">&#34;fa-bed&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;children&#39;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="p">{</span><span class="s1">&#39;text&#39;</span><span class="p">:</span> <span class="s2">&#34;Á∫ßÂà´ÁÆ°ÁêÜ&#34;</span><span class="p">,</span> <span class="s1">&#39;url&#39;</span><span class="p">:</span> <span class="s2">&#34;/level/list&#34;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s2">&#34;level_list&#34;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">                <span class="p">{</span><span class="s1">&#39;text&#39;</span><span class="p">:</span> <span class="s2">&#34;ÂÆ¢Êà∑ÁÆ°ÁêÜ&#34;</span><span class="p">,</span> <span class="s1">&#39;url&#39;</span><span class="p">:</span> <span class="s2">&#34;/customer/list&#34;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s2">&#34;customer_list&#34;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">                <span class="p">{</span><span class="s1">&#39;text&#39;</span><span class="p">:</span> <span class="s2">&#34;‰ª∑Ê†ºÁ≠ñÁï•&#34;</span><span class="p">,</span> <span class="s1">&#39;url&#39;</span><span class="p">:</span> <span class="s2">&#34;/policy/list&#34;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s2">&#34;policy_list&#34;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;text&#39;</span><span class="p">:</span> <span class="s2">&#34;‰∫§ÊòìÁÆ°ÁêÜ&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;icon&#39;</span><span class="p">:</span> <span class="s2">&#34;fa-bed&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;children&#39;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="p">{</span><span class="s1">&#39;text&#39;</span><span class="p">:</span> <span class="s2">&#34;‰∫§ÊòìËÆ∞ÂΩï&#34;</span><span class="p">,</span> <span class="s1">&#39;url&#39;</span><span class="p">:</span> <span class="s2">&#34;/transaction/list/&#34;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s2">&#34;transaction_list&#34;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;CUSTOMER&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;text&#39;</span><span class="p">:</span> <span class="s2">&#34;Áî®Êà∑‰ø°ÊÅØ&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;icon&#39;</span><span class="p">:</span> <span class="s2">&#34;fa-keyboard-o&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;children&#39;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="p">{</span><span class="s1">&#39;text&#39;</span><span class="p">:</span> <span class="s2">&#34;ËÆ¢ÂçïÁÆ°ÁêÜ&#34;</span><span class="p">,</span> <span class="s1">&#39;url&#39;</span><span class="p">:</span> <span class="s2">&#34;/my/order/list&#34;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s2">&#34;my_order_list&#34;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">                <span class="p">{</span><span class="s1">&#39;text&#39;</span><span class="p">:</span> <span class="s2">&#34;ÊàëÁöÑ‰∫§ÊòìËÆ∞ÂΩï&#34;</span><span class="p">,</span> <span class="s1">&#39;url&#39;</span><span class="p">:</span> <span class="s2">&#34;/my/transaction/list/&#34;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s2">&#34;my_transaction_list&#34;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">MY_PPERMISSION_PUBLIC</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;home&#34;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&#34;text&#34;</span><span class="p">:</span> <span class="s2">&#34;‰∏ªÈ°µ&#34;</span><span class="p">,</span> <span class="s2">&#34;parent&#34;</span><span class="p">:</span> <span class="kc">None</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;logout&#34;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&#34;text&#34;</span><span class="p">:</span> <span class="s2">&#34;Ê≥®ÈîÄ&#34;</span><span class="p">,</span> <span class="s2">&#34;parent&#34;</span><span class="p">:</span> <span class="kc">None</span><span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">MY_PERMISSION</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;ADMIN&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;level_list&#34;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&#34;text&#34;</span><span class="p">:</span> <span class="s2">&#34;Á∫ßÂà´ÂàóË°®&#34;</span><span class="p">,</span> <span class="s2">&#34;parent&#34;</span><span class="p">:</span> <span class="kc">None</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;level_add&#34;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&#34;text&#34;</span><span class="p">:</span> <span class="s2">&#34;Êñ∞Âª∫Á∫ßÂà´&#34;</span><span class="p">,</span> <span class="s2">&#34;parent&#34;</span><span class="p">:</span> <span class="s1">&#39;level_list&#39;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;level_edit&#34;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&#34;text&#34;</span><span class="p">:</span> <span class="s2">&#34;ÁºñËæëÁ∫ßÂà´&#34;</span><span class="p">,</span> <span class="s2">&#34;parent&#34;</span><span class="p">:</span> <span class="s1">&#39;level_list&#39;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;level_delete&#34;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&#34;text&#34;</span><span class="p">:</span> <span class="s2">&#34;Âà†Èô§Á∫ßÂà´&#34;</span><span class="p">,</span> <span class="s2">&#34;parent&#34;</span><span class="p">:</span> <span class="s1">&#39;level_list&#39;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;customer_list&#34;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&#34;text&#34;</span><span class="p">:</span> <span class="s2">&#34;ÂÆ¢Êà∑ÂàóË°®&#34;</span><span class="p">,</span> <span class="s2">&#34;parent&#34;</span><span class="p">:</span> <span class="kc">None</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;customer_add&#34;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&#34;text&#34;</span><span class="p">:</span> <span class="s2">&#34;Êñ∞Âª∫ÂÆ¢Êà∑&#34;</span><span class="p">,</span> <span class="s2">&#34;parent&#34;</span><span class="p">:</span> <span class="s1">&#39;customer_list&#39;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;customer_edit&#34;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&#34;text&#34;</span><span class="p">:</span> <span class="s2">&#34;ÁºñËæëÂÆ¢Êà∑&#34;</span><span class="p">,</span> <span class="s2">&#34;parent&#34;</span><span class="p">:</span> <span class="s1">&#39;customer_list&#39;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;customer_reset&#34;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&#34;text&#34;</span><span class="p">:</span> <span class="s2">&#34;ÈáçÁΩÆÂØÜÁ†Å&#34;</span><span class="p">,</span> <span class="s2">&#34;parent&#34;</span><span class="p">:</span> <span class="s1">&#39;customer_list&#39;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;customer_delete&#34;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&#34;text&#34;</span><span class="p">:</span> <span class="s2">&#34;Âà†Èô§ÂÆ¢Êà∑&#34;</span><span class="p">,</span> <span class="s2">&#34;parent&#34;</span><span class="p">:</span> <span class="s1">&#39;customer_list&#39;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;customer_charge&#34;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&#34;text&#34;</span><span class="p">:</span> <span class="s2">&#34;ÊàëÁöÑ‰∫§ÊòìËÆ∞ÂΩï&#34;</span><span class="p">,</span> <span class="s2">&#34;parent&#34;</span><span class="p">:</span> <span class="s1">&#39;customer_list&#39;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;customer_charge_add&#34;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&#34;text&#34;</span><span class="p">:</span> <span class="s2">&#34;ÂàõÂª∫‰∫§ÊòìËÆ∞ÂΩï&#34;</span><span class="p">,</span> <span class="s2">&#34;parent&#34;</span><span class="p">:</span> <span class="s1">&#39;customer_list&#39;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;policy_list&#34;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&#34;text&#34;</span><span class="p">:</span> <span class="s2">&#34;‰ª∑Ê†ºÁ≠ñÁï•&#34;</span><span class="p">,</span> <span class="s2">&#34;parent&#34;</span><span class="p">:</span> <span class="kc">None</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;policy_add&#34;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&#34;text&#34;</span><span class="p">:</span> <span class="s2">&#34;ÂàõÂª∫‰ª∑Ê†ºÁ≠ñÁï•&#34;</span><span class="p">,</span> <span class="s2">&#34;parent&#34;</span><span class="p">:</span> <span class="s1">&#39;policy_list&#39;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;policy_edit&#34;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&#34;text&#34;</span><span class="p">:</span> <span class="s2">&#34;ÁºñËæë‰ª∑Ê†ºÁ≠ñÁï•&#34;</span><span class="p">,</span> <span class="s2">&#34;parent&#34;</span><span class="p">:</span> <span class="s1">&#39;policy_list&#39;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;policy_delete&#34;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&#34;text&#34;</span><span class="p">:</span> <span class="s2">&#34;Âà†Èô§‰ª∑Ê†ºÁ≠ñÁï•&#34;</span><span class="p">,</span> <span class="s2">&#34;parent&#34;</span><span class="p">:</span> <span class="s1">&#39;policy_list&#39;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;transaction_list&#34;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&#34;text&#34;</span><span class="p">:</span> <span class="s2">&#34;‰∫§ÊòìËÆ∞ÂΩï&#34;</span><span class="p">,</span> <span class="s2">&#34;parent&#34;</span><span class="p">:</span> <span class="kc">None</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;CUSTOMER&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;my_order_list&#34;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&#34;text&#34;</span><span class="p">:</span> <span class="s2">&#34;ËÆ¢ÂçïÂàóË°®&#34;</span><span class="p">,</span> <span class="s2">&#34;parent&#34;</span><span class="p">:</span> <span class="kc">None</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;my_order_add&#34;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&#34;text&#34;</span><span class="p">:</span> <span class="s2">&#34;Êñ∞Âª∫ËÆ¢Âçï&#34;</span><span class="p">,</span> <span class="s2">&#34;parent&#34;</span><span class="p">:</span> <span class="s1">&#39;my_order_list&#39;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;my_order_cancel&#34;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&#34;text&#34;</span><span class="p">:</span> <span class="s2">&#34;ËÆ¢Âçï&#34;</span><span class="p">,</span> <span class="s2">&#34;parent&#34;</span><span class="p">:</span> <span class="s1">&#39;my_order_list&#39;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;my_transaction_list&#34;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&#34;text&#34;</span><span class="p">:</span> <span class="s2">&#34;ÊàëÁöÑ‰∫§ÊòìËÆ∞ÂΩï&#34;</span><span class="p">,</span> <span class="s2">&#34;parent&#34;</span><span class="p">:</span> <span class="kc">None</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">QUEUE_TASK_NAME</span> <span class="o">=</span> <span class="s2">&#34;YANG_TASK_QUEUE&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># MESSAGE_STORAGE = &#39;django.contrib.messages.storage.fallback.FallbackStorage&#39;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># MESSAGE_STORAGE = &#39;django.contrib.messages.storage.cookie.CookieStorage&#39;</span>
</span></span><span class="line"><span class="cl"><span class="n">MESSAGE_STORAGE</span> <span class="o">=</span> <span class="s1">&#39;django.contrib.messages.storage.session.SessionStorage&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">MESSAGE_DANGER_TAG</span> <span class="o">=</span> <span class="mi">50</span>
</span></span><span class="line"><span class="cl"><span class="n">MESSAGE_TAGS</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">MESSAGE_DANGER_TAG</span><span class="p">:</span> <span class="s2">&#34;danger&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">os</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">LOGGING</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;version&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;disable_existing_loggers&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;handlers&#39;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="s1">&#39;file&#39;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;level&#39;</span><span class="p">:</span> <span class="s1">&#39;ERROR&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;class&#39;</span><span class="p">:</span> <span class="s1">&#39;logging.FileHandler&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;filename&#39;</span><span class="p">:</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">BASE_DIR</span><span class="p">,</span> <span class="s1">&#39;django_error.log&#39;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;loggers&#39;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="s1">&#39;django&#39;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;handlers&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;file&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;level&#39;</span><span class="p">:</span> <span class="s1">&#39;ERROR&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;propagate&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="kn">from</span> <span class="nn">.local_settings</span> <span class="kn">import</span> <span class="o">*</span>
</span></span><span class="line"><span class="cl"><span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">pass</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>local_settings.pyÈÖçÁΩÆ</strong>Ôºö</p>
<blockquote>
<p>ÊîæÁΩÆÊï∞ÊçÆÂ∫ìËøûÊé•ÈÖçÁΩÆÁ≠âÁ∫ø‰∏ä‰∏éÊú¨Âú∞ÊµãËØïÁéØÂ¢É‰∏çÂêåÁöÑËÆæÁΩÆ</p></blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">DATABASES</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="s1">&#39;ENGINE&#39;</span><span class="p">:</span> <span class="s1">&#39;django.db.backends.mysql&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="s1">&#39;NAME&#39;</span><span class="p">:</span> <span class="s1">&#39;day06&#39;</span><span class="p">,</span>  <span class="c1"># Êï∞ÊçÆÂ∫ìÂêçÂ≠ó</span>
</span></span><span class="line"><span class="cl">        <span class="s1">&#39;USER&#39;</span><span class="p">:</span> <span class="s1">&#39;root&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="s1">&#39;PASSWORD&#39;</span><span class="p">:</span> <span class="s1">&#39;Qiuwj1029&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="s1">&#39;HOST&#39;</span><span class="p">:</span> <span class="s1">&#39;127.0.0.1&#39;</span><span class="p">,</span>  <span class="c1"># ip</span>
</span></span><span class="line"><span class="cl">        <span class="s1">&#39;PORT&#39;</span><span class="p">:</span> <span class="mi">3306</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># cacheÁºìÂ≠òÈÖçÁΩÆ</span>
</span></span><span class="line"><span class="cl"><span class="n">CACHES</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;default&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;BACKEND&#34;</span><span class="p">:</span> <span class="s2">&#34;django_redis.cache.RedisCache&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;LOCATION&#34;</span><span class="p">:</span> <span class="s2">&#34;redis://127.0.0.1:6379&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;OPTIONS&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;CLIENT_CLASS&#34;</span><span class="p">:</span> <span class="s2">&#34;django_redis.client.DefaultClient&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;CONNECTION_POOL_KWARGS&#34;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&#34;max_connections&#34;</span><span class="p">:</span> <span class="mi">100</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="c1"># &#34;PASSWORD&#34;: &#34;ÂØÜÁ†Å&#34;,</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="Áî®Êà∑ËÆ§ËØÅÁõ∏ÂÖ≥">Áî®Êà∑ËÆ§ËØÅÁõ∏ÂÖ≥
</h3><h4 id="Áî®Êà∑ÂêçÂØÜÁ†ÅÁôªÂΩï">Áî®Êà∑ÂêçÂØÜÁ†ÅÁôªÂΩï
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">form‰∏≠ÂêÑ‰∏™Â≠óÊÆµÊîæÁΩÆÁöÑ‰ΩçÁΩÆ</span>
</span></span><span class="line"><span class="cl"><span class="n">formËá™ÂÆö‰πâÂ≠óÊÆµ‰∏≠placeholder</span>
</span></span><span class="line"><span class="cl"><span class="k">raise</span> <span class="n">ValidationError</span><span class="p">(</span><span class="s2">&#34;Áî®Êà∑ÂêçÊ†ºÂºèÈîôËØØ&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">ËßÜÂõæÂáΩÊï∞‰∏≠‰∏∫ÊåáÂÆöÂ≠óÊÆµÊ∑ªÂä†Êä•Èîô‰ø°ÊÅØ</span> <span class="n">form</span><span class="o">.</span><span class="n">add_error</span><span class="p">(</span><span class="s2">&#34;username&#34;</span><span class="p">,</span> <span class="s2">&#34;Áî®Êà∑ÂêçÊàñÂØÜÁ†ÅÈîôËØØ&#34;</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>ËÆøÈóÆ<code>/login/</code></li>
<li>Êù•Âà∞<code>account.py‰∏ãÁöÑlogin()ËßÜÂõæÂáΩÊï∞</code></li>
</ul>
<p><img src="/post/python/order_trading_platform/1732500920107-dd72d923-0813-43c5-9cc2-cbc1851acf06.png"
	
	
	
	loading="lazy"
	
	
></p>
<ul>
<li>Áî®Êà∑ÁúãÂà∞login.htmlÂ°´ÂÜôË°®ÂçïÂπ∂Êèê‰∫§ÔºåÂõûÂà∞<code>account.py‰∏ãÁöÑlogin()ËßÜÂõæÂáΩÊï∞</code></li>
</ul>
<p><img src="/post/python/order_trading_platform/1732501766273-5e19ada5-1989-4867-b1db-5b2389279505.png"
	
	
	
	loading="lazy"
	
	
></p>
<p><img src="/post/python/order_trading_platform/1732501497237-59a80514-8caa-4035-984d-d8386fab982a.png"
	
	
	
	loading="lazy"
	
	
></p>
<h4 id="ÊâãÊú∫È™åËØÅÁ†ÅÁôªÂΩï">ÊâãÊú∫È™åËØÅÁ†ÅÁôªÂΩï
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">Ê®°Êùø‰∏≠Âà©Áî®nameÂèçÂêëÁîüÊàêurl</span> <span class="p">{</span><span class="o">%</span> <span class="n">url</span> <span class="s1">&#39;login&#39;</span> <span class="o">%</span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="n">form‰∏≠labelÂ±ûÊÄß</span>
</span></span><span class="line"><span class="cl"><span class="n">jsonËøîÂõûÂÄºÂØπË±°</span>
</span></span><span class="line"><span class="cl"><span class="n">ÂèëÈÄÅÈ™åËØÅÁ†ÅÂèäÂØπÂ∫îÈ°µÈù¢ÊïàÊûúÂÆûÁé∞ÁöÑjs</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>ÁÇπÂáªÁü≠‰ø°ÁôªÈôÜËøõË°åË∑≥ËΩ¨</li>
</ul>
<p><img src="/post/python/order_trading_platform/1732501594477-80367c51-4524-4f77-bf0f-fae47c252c31.png"
	
	
	
	loading="lazy"
	
	
></p>
<p><img src="/post/python/order_trading_platform/1732501621069-6f7e6a6c-bd40-4b07-a3ee-ee4b805e5cae.png"
	
	
	
	loading="lazy"
	
	
></p>
<ul>
<li>Áî®Êà∑ÁúãÂà∞sms_login.html</li>
</ul>
<p><img src="/post/python/order_trading_platform/1732502286562-c6bb7e54-0678-4fc8-8bb5-7995c3bef201.png"
	
	
	
	loading="lazy"
	
	
></p>
<ul>
<li>ÂèëÈÄÅÈ™åËØÅÁ†ÅÂâçÁΩÆ</li>
</ul>
<p><img src="/post/python/order_trading_platform/1732502965263-ae771897-7ce1-4d95-9db7-0e1d24fc6218.png"
	
	
	
	loading="lazy"
	
	
></p>
<ul>
<li>ÂèëÈÄÅÈ™åËØÅÁ†Å</li>
</ul>
<p><img src="/post/python/order_trading_platform/1732503252223-95871ea5-ce14-4d93-b339-4200302cf554.png"
	
	
	
	loading="lazy"
	
	
></p>
<ul>
<li>ÁôªÂΩïÊàêÂäü</li>
</ul>
<p><img src="/post/python/order_trading_platform/1732503341745-241794bd-3215-4d53-bd86-88cff7951f3d.png"
	
	
	
	loading="lazy"
	
	
></p>
<h3 id="ËèúÂçïÂíåÊùÉÈôê">ËèúÂçïÂíåÊùÉÈôê
</h3><h4 id="ËÆøÈóÆÊùÉÈôê">ËÆøÈóÆÊùÉÈôê
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">process_request</span><span class="err">Ôºå</span><span class="n">Âü∫‰∫é‰ªñÂÆûÁé∞Áî®Êà∑ÊòØÂê¶Â∑≤ÁôªÂΩï</span><span class="err">Ôºå</span><span class="n">ÁªßÁª≠</span><span class="err">Ôºõ</span><span class="n">Êú™ÁôªÂΩïÂàôËøîÂõûÁôªÂΩïÁïåÈù¢</span><span class="err">„ÄÇ</span>
</span></span><span class="line"><span class="cl">	<span class="o">-</span> <span class="k">return</span> <span class="kc">None</span><span class="err">Ôºå</span><span class="n">ÁªßÁª≠ÂêëÂêéËÆøÈóÆ</span>
</span></span><span class="line"><span class="cl">	<span class="o">-</span> <span class="k">return</span> <span class="n">ÂØπË±°</span><span class="err">Ôºå</span><span class="n">Áõ¥Êé•ËøîÂõû</span><span class="err">„ÄÇ</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl"><span class="n">process_view</span><span class="err">Ôºå</span><span class="n">ÊùÉÈôêÊ†°È™å</span>
</span></span><span class="line"><span class="cl">	<span class="o">-</span> <span class="k">return</span> <span class="kc">None</span><span class="err">Ôºå</span><span class="n">ÁªßÁª≠ÂêëÂêéËÆøÈóÆ</span>
</span></span><span class="line"><span class="cl">	<span class="o">-</span> <span class="k">return</span> <span class="n">ÂØπË±°</span><span class="err">Ôºå</span><span class="n">Áõ¥Êé•ËøîÂõû</span><span class="err">„ÄÇ</span>
</span></span><span class="line"><span class="cl">	<span class="o">-</span> <span class="n">Âú®‰ªñÁöÑrequestÂØπË±°‰∏≠Êúâ</span> <span class="n">resolver_match</span>  <span class="err">Ôºå</span><span class="n">ÂåÖÂê´ÂΩìÂâçËØ∑Ê±ÇÁöÑËßÜÂõæË∑ØÁî±‰ø°ÊÅØ</span>  <span class="o">.</span><span class="n">name</span><span class="o">-&gt;</span><span class="n">sms_login</span>
</span></span><span class="line"><span class="cl">		<span class="n">admin</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;sms_login&#39;</span><span class="p">,</span><span class="s2">&#34;xxx&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl"><span class="n">process_response</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>ÊòØÂê¶Â∑≤ÁôªÂΩï</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">request‰∏≠ÂèñÂá∫ËÆøÈóÆË∑ØÂæÑ</span> <span class="n">request</span><span class="o">.</span><span class="n">path_info</span>
</span></span><span class="line"><span class="cl"><span class="n">ÁôΩÂêçÂçï</span><span class="err">Ôºà</span><span class="n">ÁôªÂΩïÈ°µÈù¢</span><span class="err">Ôºâ</span><span class="n">Âà§Êñ≠</span>
</span></span><span class="line"><span class="cl"><span class="n">‰ªésession‰∏≠Ëé∑Âèñ‰ø°ÊÅØÂà§Êñ≠ÁôªÂΩï</span>
</span></span><span class="line"><span class="cl"><span class="n">ÁôªÈôÜÊàêÂäüÂ∞ÅË£ÖÁî®Êà∑‰ø°ÊÅØËá≥request</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/post/python/order_trading_platform/1732583177967-d3c9f1f3-2401-4c56-b006-3f5f12d5cac7.png"
	
	
	
	loading="lazy"
	
	
></p>
<ul>
<li>ËèúÂçïÈ°µÈù¢‰ºòÂåñ</li>
</ul>
<p>layout.html ÊØçÁâà</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="p">{</span><span class="o">%</span> <span class="n">load</span> <span class="n">static</span> <span class="o">%</span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span><span class="o">%</span> <span class="n">load</span> <span class="n">menu</span> <span class="o">%</span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="err">!</span><span class="n">DOCTYPE</span> <span class="n">html</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="n">html</span> <span class="n">lang</span><span class="o">=</span><span class="s2">&#34;en&#34;</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="n">head</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="n">meta</span> <span class="n">charset</span><span class="o">=</span><span class="s2">&#34;UTF-8&#34;</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="n">title</span><span class="o">&gt;</span><span class="n">Title</span><span class="o">&lt;/</span><span class="n">title</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="n">link</span> <span class="n">rel</span><span class="o">=</span><span class="s2">&#34;stylesheet&#34;</span> <span class="n">href</span><span class="o">=</span><span class="s2">&#34;{</span><span class="si">% s</span><span class="s2">tatic &#39;/plugins/bootstrap/css/bootstrap.min.css&#39; %}&#34;</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="n">link</span> <span class="n">rel</span><span class="o">=</span><span class="s2">&#34;stylesheet&#34;</span> <span class="n">href</span><span class="o">=</span><span class="s2">&#34;{</span><span class="si">% s</span><span class="s2">tatic &#39;/plugins/font-awesome/css/font-awesome.min.css&#39; %}&#34;</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="n">link</span> <span class="n">rel</span><span class="o">=</span><span class="s2">&#34;stylesheet&#34;</span> <span class="n">href</span><span class="o">=</span><span class="s2">&#34;{</span><span class="si">% s</span><span class="s2">tatic &#39;/css/commons.css&#39; %}&#34;</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="n">link</span> <span class="n">rel</span><span class="o">=</span><span class="s2">&#34;stylesheet&#34;</span> <span class="n">href</span><span class="o">=</span><span class="s2">&#34;{</span><span class="si">% s</span><span class="s2">tatic &#39;/css/menu.css&#39; %}&#34;</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="n">link</span> <span class="n">rel</span><span class="o">=</span><span class="s2">&#34;stylesheet&#34;</span> <span class="n">href</span><span class="o">=</span><span class="s2">&#34;{</span><span class="si">% s</span><span class="s2">tatic &#39;/css/nav.css&#39; %}&#34;</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="n">link</span> <span class="n">rel</span><span class="o">=</span><span class="s2">&#34;stylesheet&#34;</span> <span class="n">href</span><span class="o">=</span><span class="s2">&#34;{</span><span class="si">% s</span><span class="s2">tatic &#39;css/search-group.css&#39; %}&#34;</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span><span class="o">%</span> <span class="n">block</span> <span class="n">css</span> <span class="o">%</span><span class="p">}{</span><span class="o">%</span> <span class="n">endblock</span> <span class="o">%</span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;/</span><span class="n">head</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="n">body</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&#34;pg-header&#34;</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&#34;nav&#34;</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&#34;logo-area left&#34;</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="o">&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">&#34;{</span><span class="si">% u</span><span class="s2">rl &#39;home&#39; %}&#34;</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="o">&lt;</span><span class="n">span</span> <span class="n">style</span><span class="o">=</span><span class="s2">&#34;font-size: 18px;&#34;</span><span class="o">&gt;</span><span class="n">MYÁöÑÁÆ°ÁêÜÂπ≥Âè∞</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&#34;right-menu right clearfix&#34;</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&#34;user-info right&#34;</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="o">&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">&#34;#&#34;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&#34;avatar&#34;</span> <span class="n">style</span><span class="o">=</span><span class="s2">&#34;text-decoration: none;&#34;</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="o">&lt;</span><span class="n">span</span> <span class="n">style</span><span class="o">=</span><span class="s2">&#34;color: white;margin-right: 5px;&#34;</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">request</span><span class="o">.</span><span class="n">my_user</span><span class="o">.</span><span class="n">name</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="o">&lt;</span><span class="n">img</span> <span class="n">class</span><span class="o">=</span><span class="s2">&#34;img-circle&#34;</span> <span class="n">style</span><span class="o">=</span><span class="s2">&#34;width: 35px;height: 35px;&#34;</span> <span class="n">src</span><span class="o">=</span><span class="s2">&#34;{</span><span class="si">% s</span><span class="s2">tatic &#39;images/default.png&#39; %}&#34;</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">                <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&#34;more-info&#34;</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="o">&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">&#34;{</span><span class="si">% u</span><span class="s2">rl &#39;logout&#39; %}&#34;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&#34;more-item&#34;</span><span class="o">&gt;</span><span class="n">Ê≥®ÈîÄ</span><span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&#34;pg-body&#34;</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&#34;left-menu&#34;</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&#34;menu-body&#34;</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">{</span><span class="o">%</span> <span class="n">my_menu</span> <span class="n">request</span> <span class="o">%</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&#34;right-body&#34;</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;</span><span class="n">ol</span> <span class="n">class</span><span class="o">=</span><span class="s2">&#34;breadcrumb&#34;</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">{</span><span class="o">%</span> <span class="k">for</span> <span class="n">text</span> <span class="ow">in</span> <span class="n">request</span><span class="o">.</span><span class="n">my_user</span><span class="o">.</span><span class="n">text_list</span> <span class="o">%</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">                <span class="o">&lt;</span><span class="n">li</span><span class="o">&gt;&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">&#34;#&#34;</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">text</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">{</span><span class="o">%</span> <span class="n">endfor</span> <span class="o">%</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;/</span><span class="n">ol</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;</span><span class="n">div</span> <span class="n">style</span><span class="o">=</span><span class="s2">&#34;padding: 20px&#34;</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">{</span><span class="o">%</span> <span class="n">block</span> <span class="n">content</span> <span class="o">%</span><span class="p">}{</span><span class="o">%</span> <span class="n">endblock</span> <span class="o">%</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="n">script</span> <span class="n">src</span><span class="o">=</span><span class="s2">&#34;{</span><span class="si">% s</span><span class="s2">tatic &#39;js/JQuery3.6.0.js&#39; %}&#34;</span><span class="o">&gt;&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="n">script</span> <span class="n">src</span><span class="o">=</span><span class="s2">&#34;{</span><span class="si">% s</span><span class="s2">tatic &#39;plugins/bootstrap/js/bootstrap.min.js&#39; %}&#34;</span><span class="o">&gt;&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="n">script</span> <span class="n">src</span><span class="o">=</span><span class="s2">&#34;{</span><span class="si">% s</span><span class="s2">tatic &#39;js/menu.js&#39; %}&#34;</span><span class="o">&gt;&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span><span class="o">%</span> <span class="n">block</span> <span class="n">js</span> <span class="o">%</span><span class="p">}{</span><span class="o">%</span> <span class="n">endblock</span> <span class="o">%</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">&lt;/</span><span class="n">body</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;/</span><span class="n">html</span><span class="o">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>home.html</p>
<blockquote>
<p>Âè™ÈúÄÁªßÊâølayout.htmlÂπ∂ÊãìÂ±ïÂç≥ÂèØ</p></blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="p">{</span><span class="o">%</span> <span class="n">extends</span> <span class="s1">&#39;layout.html&#39;</span> <span class="o">%</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">{</span><span class="o">%</span> <span class="n">block</span> <span class="n">content</span> <span class="o">%</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="n">h3</span><span class="o">&gt;</span><span class="n">Ê¨¢Ëøé</span><span class="o">&lt;/</span><span class="n">h3</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">{</span><span class="o">%</span> <span class="n">endblock</span> <span class="o">%</span><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>Âä®ÊÄÅËèúÂçï</li>
</ul>
<p><img src="/post/python/order_trading_platform/1732598117149-f4ddfbba-a2d3-48e7-af1d-4f0f0453756d.png"
	
	
	
	loading="lazy"
	
	
></p>
<ul>
<li>È°∂ÈÉ®ÂØºËà™ÔºàÊ≥®ÈîÄÔºâ</li>
</ul>
<p><img src="/post/python/order_trading_platform/1732598564449-30c0f304-0cac-4e20-83ca-27421423c926.png"
	
	
	
	loading="lazy"
	
	
></p>
<ul>
<li>ÊùÉÈôêÊ†°È™å</li>
</ul>
<p><img src="/post/python/order_trading_platform/1732694957748-4f79bd97-c777-4c4e-b154-f56c7a30aa15.png"
	
	
	
	loading="lazy"
	
	
></p>
<ul>
<li>È°∂ÈÉ®ÂØºËà™Ê†è‰∏éÂÖ≥ËÅîËèúÂçïÈÄâ‰∏≠Ê†∑Âºè</li>
</ul>
<p><img src="/post/python/order_trading_platform/1732695541151-0b5c3516-7df2-411b-9539-26e85b61cda7.png"
	
	
	
	loading="lazy"
	
	
></p>
<p><img src="/post/python/order_trading_platform/1732695642676-d757fb34-e278-4b92-9314-dd73eeed9874.png"
	
	
	
	loading="lazy"
	
	
></p>
<h4 id="ÊåâÈíÆÊòæÁ§∫ÊùÉÈôê">ÊåâÈíÆÊòæÁ§∫ÊùÉÈôê
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">check_permission</span><span class="p">:</span><span class="n">ÊúâÊó†ÊùÉÈôê</span>
</span></span><span class="line"><span class="cl"><span class="n">has_permission</span><span class="p">:</span><span class="n">Áî®‰∫éÊéßÂà∂È°µÈù¢ÁöÑÊòæÁ§∫</span><span class="err">Ôºå</span><span class="n">ÊúâÂØπÂ∫îÊùÉÈôêÂàôÂ±ïÁ§∫È°µÈù¢</span>
</span></span><span class="line"><span class="cl"><span class="n">ÂÖ∂‰ªñÊñπÊ≥ï</span><span class="p">:</span><span class="n">Ê†πÊçÆ‰º†ÂÖ•ÁöÑurlÁöÑname‰∏éÂèÇÊï∞ÂèçÂêëÁîüÊàêurl</span>
</span></span><span class="line"><span class="cl"><span class="n">ÁºñËæëÂ§ÑÈúÄË¶ÅÂ§ÑÁêÜË∑≥ËΩ¨Êó∂ÁöÑÂèÇÊï∞Êê∫Â∏¶ÈóÆÈ¢ò</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span><span class="lnt">75
</span><span class="lnt">76
</span><span class="lnt">77
</span><span class="lnt">78
</span><span class="lnt">79
</span><span class="lnt">80
</span><span class="lnt">81
</span><span class="lnt">82
</span><span class="lnt">83
</span><span class="lnt">84
</span><span class="lnt">85
</span><span class="lnt">86
</span><span class="lnt">87
</span><span class="lnt">88
</span><span class="lnt">89
</span><span class="lnt">90
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">django.http</span> <span class="kn">import</span> <span class="n">QueryDict</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">django.template</span> <span class="kn">import</span> <span class="n">Library</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">django.conf</span> <span class="kn">import</span> <span class="n">settings</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">django.urls</span> <span class="kn">import</span> <span class="n">reverse</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">django.utils.safestring</span> <span class="kn">import</span> <span class="n">mark_safe</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">register</span> <span class="o">=</span> <span class="n">Library</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">check_permission</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># print(request, name, args, kwargs)</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># &lt;WSGIRequest: GET &#39;/customer/list/&#39;&gt; customer_add () {}</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># 1.Ëé∑ÂèñÂΩìÂâçÁôªÂΩïÁî®Êà∑ËßíËâ≤</span>
</span></span><span class="line"><span class="cl">    <span class="n">role</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">my_user</span><span class="o">.</span><span class="n">role</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1"># 2.Ê†πÊçÆËßíËâ≤Ëé∑ÂèñÊùÉÈôêÂ≠óÂÖ∏</span>
</span></span><span class="line"><span class="cl">    <span class="n">permission_dict</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">MY_PERMISSION</span><span class="p">[</span><span class="n">role</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># 3.Âà§Êñ≠ÊùÉÈôê</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">permission_dict</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">settings</span><span class="o">.</span><span class="n">MY_PPERMISSION_PUBLIC</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nd">@register.simple_tag</span>
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">add_permission</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># 3.1Êó†ÊùÉÈôêÔºåËøîÂõûÁ©∫</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="ow">not</span> <span class="n">check_permission</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1"># 3.2ÊúâÊùÉÈôêÔºåÈÄöËøánameÂèçÂêëÁîüÊàêURL</span>
</span></span><span class="line"><span class="cl">    <span class="n">url</span> <span class="o">=</span> <span class="n">reverse</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="n">args</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="n">kwargs</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">tpl</span> <span class="o">=</span> <span class="s2">&#34;&#34;&#34;&lt;a href=&#34;</span><span class="si">{}</span><span class="s2">&#34; class=&#34;btn btn-success&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="s2">        &lt;span class=&#34;glyphicon glyphicon-plus-sign&#34;&gt;&lt;/span&gt;Êñ∞Âª∫
</span></span></span><span class="line"><span class="cl"><span class="s2">    &lt;/a&gt;&#34;&#34;&#34;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">mark_safe</span><span class="p">(</span><span class="n">tpl</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nd">@register.simple_tag</span>
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">edit_permission</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># 3.1Êó†ÊùÉÈôêÔºåËøîÂõûÁ©∫</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="ow">not</span> <span class="n">check_permission</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1"># 3.2ÊúâÊùÉÈôêÔºåÈÄöËøánameÂèçÂêëÁîüÊàêURL</span>
</span></span><span class="line"><span class="cl">    <span class="n">url</span> <span class="o">=</span> <span class="n">reverse</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="n">args</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="n">kwargs</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># Ê†πÊçÆÂΩìÂâçÁî®Êà∑ËØ∑Ê±ÇËé∑ÂèñGETÂèÇÊï∞</span>
</span></span><span class="line"><span class="cl">    <span class="n">param</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="o">.</span><span class="n">urlencode</span><span class="p">()</span>  <span class="c1"># page=9&amp;xx=12</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">param</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">new_query_dict</span> <span class="o">=</span> <span class="n">QueryDict</span><span class="p">(</span><span class="n">mutable</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">new_query_dict</span><span class="p">[</span><span class="s1">&#39;_filter&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">param</span>
</span></span><span class="line"><span class="cl">        <span class="n">filter_string</span> <span class="o">=</span> <span class="n">new_query_dict</span><span class="o">.</span><span class="n">urlencode</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="n">tpl</span> <span class="o">=</span> <span class="s2">&#34;&#34;&#34;&lt;a href=&#34;</span><span class="si">{}</span><span class="s2">?</span><span class="si">{}</span><span class="s2">&#34; class=&#34;btn btn-primary btn-xs&#34;&gt;ÁºñËæë&lt;/a&gt;&#34;&#34;&#34;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">filter_string</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">mark_safe</span><span class="p">(</span><span class="n">tpl</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">tpl</span> <span class="o">=</span> <span class="s2">&#34;&#34;&#34;&lt;a href=&#34;</span><span class="si">{}</span><span class="s2">&#34; class=&#34;btn btn-primary btn-xs&#34;&gt;ÁºñËæë&lt;/a&gt;&#34;&#34;&#34;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">mark_safe</span><span class="p">(</span><span class="n">tpl</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nd">@register.simple_tag</span>
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">delete_permission</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># 3.1Êó†ÊùÉÈôêÔºåËøîÂõûÁ©∫</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="ow">not</span> <span class="n">check_permission</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1"># 3.2ÊúâÊùÉÈôêÔºåÈÄöËøánameÂèçÂêëÁîüÊàêURL</span>
</span></span><span class="line"><span class="cl">    <span class="n">pk</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;pk&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">tpl</span> <span class="o">=</span> <span class="s2">&#34;&#34;&#34;&lt;a cid=&#34;</span><span class="si">{}</span><span class="s2">&#34; class=&#34;btn btn-danger btn-xs btn-delete&#34;&#34;&gt;Âà†Èô§&lt;/a&gt;&#34;&#34;&#34;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">pk</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">mark_safe</span><span class="p">(</span><span class="n">tpl</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nd">@register.simple_tag</span>
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">delete_url_permission</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># 3.1Êó†ÊùÉÈôêÔºåËøîÂõûÁ©∫</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="ow">not</span> <span class="n">check_permission</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">url</span> <span class="o">=</span> <span class="n">reverse</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="n">args</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="n">kwargs</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">tpl</span> <span class="o">=</span> <span class="s2">&#34;&#34;&#34;&lt;a href=&#34;</span><span class="si">{}</span><span class="s2">&#34; class=&#34;btn btn-danger btn-xs btn-delete&#34;&gt;Âà†Èô§&lt;/a&gt;&#34;&#34;&#34;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">mark_safe</span><span class="p">(</span><span class="n">tpl</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nd">@register.filter</span>
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">has_permission</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">others</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">name_list</span> <span class="o">=</span> <span class="n">others</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">name_list</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">check_permission</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="kc">False</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="Á∫ßÂà´ÁÆ°ÁêÜ">Á∫ßÂà´ÁÆ°ÁêÜ
</h3><p><img src="/post/python/order_trading_platform/1732700979200-7e6e5546-7dee-4532-bffa-ff9f314e549f.png"
	
	
	
	loading="lazy"
	
	
></p>
<h4 id="Á∫ßÂà´ÂàóË°®">Á∫ßÂà´ÂàóË°®
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">Â¶ÇÊûúÁî®Êà∑Ê≤°ÊúâÂØπÂ∫îÊùÉÈôêÂ∞±‰∏çË¶ÅÊòæÁ§∫ÊåâÈíÆ</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/post/python/order_trading_platform/1732701720064-3a58477a-81ee-41b7-8449-593d4665076a.png"
	
	
	
	loading="lazy"
	
	
></p>
<h4 id="Êñ∞Â¢ûÁ∫ßÂà´">Êñ∞Â¢ûÁ∫ßÂà´
</h4><p><img src="/post/python/order_trading_platform/1732708539130-2b8bfdc2-487c-4d32-8f9e-8e5440e05d2c.png"
	
	
	
	loading="lazy"
	
	
></p>
<h4 id="ÁºñËæëÁ∫ßÂà´">ÁºñËæëÁ∫ßÂà´
</h4><p><img src="/post/python/order_trading_platform/1732708762614-b6b7596c-1305-428e-82b3-5e979cb5c4a6.png"
	
	
	
	loading="lazy"
	
	
></p>
<h4 id="Âà†Èô§Á∫ßÂà´">Âà†Èô§Á∫ßÂà´
</h4><p><img src="/post/python/order_trading_platform/1732709150253-189c3fac-8b69-4f92-889a-a3312cf450b2.png"
	
	
	
	loading="lazy"
	
	
></p>
<h3 id="ÂÆ¢Êà∑ÁÆ°ÁêÜ">ÂÆ¢Êà∑ÁÆ°ÁêÜ
</h3><p><img src="/post/python/order_trading_platform/1732709272761-5737ab89-656d-499f-8141-2793e6cb4862.png"
	
	
	
	loading="lazy"
	
	
></p>
<h4 id="ÂÆ¢Êà∑ÂàóË°®">ÂÆ¢Êà∑ÂàóË°®
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">ËØªÂèñÂÆ¢Êà∑ÂàóË°®È°µÈù¢Â±ïÁ§∫</span>
</span></span><span class="line"><span class="cl"><span class="n">ÈóÆÈ¢ò</span><span class="err">Ôºö</span> <span class="n">Â¶ÇÊûúÂÖ≥ËÅîÁöÑÁ∫ßÂà´Ë¢´Âà†Èô§ËØ•ÊÄé‰πàÂ§ÑÁêÜ</span><span class="err">Ôºü</span>
</span></span><span class="line"><span class="cl">	<span class="mf">1.</span><span class="n">Âà†Èô§Á∫ßÂà´Êó∂Âà§Êñ≠ÊòØÂê¶Êúâ‰∏ãÂ±ûÂÆ¢Êà∑</span><span class="err">Ôºå</span><span class="n">ÊúâÂàô‰∏çÂÖÅËÆ∏Âà†Èô§</span>
</span></span><span class="line"><span class="cl">	<span class="mf">2.</span><span class="n">Ëá™Âä®Â∞ÜÁ∫ßÂà´ËÆæ‰∏∫Êüê‰∏™Á∫ßÂà´</span>
</span></span><span class="line"><span class="cl">	<span class="mf">3.</span><span class="n">‰∏çÂÅö‰ªª‰ΩïÂ§ÑÁêÜ</span><span class="err">Ôºå</span><span class="n">ÂêéÁª≠ÂÆ¢Êà∑Êü•ËØ¢Ê†°È™ålevel_active</span><span class="o">=</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl"><span class="n">Ê®°ÊùøÁöÑÊó∂Èó¥Ê†ºÂºè</span>
</span></span><span class="line"><span class="cl"><span class="n">Á∫ßÂà´Â§ÑÊòæÁ§∫ÂØπË±°ËÄåÈùûlevel</span><span class="o">.</span><span class="n">title</span>
</span></span><span class="line"><span class="cl">	<span class="mf">1.</span><span class="n">‰∏ªÂä®ËøûË°®Êü•ËØ¢</span>
</span></span><span class="line"><span class="cl">	<span class="mf">2.</span><span class="n">models‰∏≠ÈáçÂÜô__str__ÊñπÊ≥ïÊåáÂÆöËæìÂá∫</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ËßÜÂõæÂáΩÊï∞</p>
<p><img src="/post/python/order_trading_platform/1732709842539-afbc14bf-f6bd-4dae-9dd7-cdd0cfa26063.png"
	
	
	
	loading="lazy"
	
	
></p>
<p>Ê®°Êùø</p>
<p><img src="/post/python/order_trading_platform/1732710156474-b8061e66-cbe8-4ef2-8f27-cc11bde7e842.png"
	
	
	
	loading="lazy"
	
	
></p>
<p><img src="/post/python/order_trading_platform/1732710607268-8e661743-6b94-4bd9-bfbb-4f9d5a458a45.png"
	
	
	
	loading="lazy"
	
	
></p>
<h4 id="Êñ∞Âª∫ÂÆ¢Êà∑">Êñ∞Âª∫ÂÆ¢Êà∑
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">Êñ∞Â¢ûform2</span><span class="o">.</span><span class="n">htmlÊ®°Êùø</span><span class="err">Ôºå</span><span class="n">‰∏ÄË°åÂ°´ÂÜô‰∏§‰∏™Â≠óÊÆµ</span><span class="err">Ôºà</span><span class="n">Ê†ÖÊ†èÊ†∑Âºè</span><span class="err">Ôºâ</span>
</span></span><span class="line"><span class="cl"><span class="n">Êñ∞Â¢ûÈáçÂ§çÂØÜÁ†ÅÂ≠óÊÆµ</span>
</span></span><span class="line"><span class="cl"><span class="n">Â±ïÁ§∫Á∫ßÂà´Êù°‰ª∂Á≠õÈÄâ</span><span class="err">Ôºà</span><span class="n">active</span><span class="o">=</span><span class="mi">1</span><span class="err">Ôºâ</span>
</span></span><span class="line"><span class="cl">	<span class="mf">1.</span><span class="n">models‰∏≠limit_choice_to</span>
</span></span><span class="line"><span class="cl">	<span class="mf">2.</span><span class="n">Ëá™ÂÆö‰πâchoicesÂíåqueryset</span>
</span></span><span class="line"><span class="cl"><span class="n">Â±ïÁ§∫Á∫ßÂà´ÁÆ°ÁêÜ</span><span class="o">-</span><span class="n">È°µÈù¢Êèí‰ª∂</span><span class="err">Ôºà</span><span class="n">select</span> <span class="o">-&gt;</span> <span class="n">radio</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="mf">1.</span><span class="n">Â±ÄÈÉ®ÂéªÈô§bootstrapÊ†∑Âºè</span>
</span></span><span class="line"><span class="cl">	<span class="mf">2.</span><span class="n">‰øÆÊîπ‰∏ãÊãâÊ°Ü‰∏∫radioÊ°Ü</span>
</span></span><span class="line"><span class="cl"><span class="n">Êèê‰∫§‰øùÂ≠ò</span>
</span></span><span class="line"><span class="cl">	<span class="mf">1.</span><span class="n">modelsË°®ÂçïÈ™åËØÅ</span><span class="err">Ôºå</span><span class="n">Ê≠£Âàô</span>
</span></span><span class="line"><span class="cl">	<span class="mf">2.</span><span class="n">Ëá™ÂÆö‰πâÈí©Â≠ê</span><span class="err">Ôºå</span><span class="n">‰øùËØÅÂØÜÁ†Å‰∏ÄÁõ¥</span>
</span></span><span class="line"><span class="cl">	<span class="mf">3.</span><span class="n">modelsÊ∑ªÂä†validators</span>
</span></span><span class="line"><span class="cl">	<span class="mf">4.</span><span class="n">‰øùÂ≠ò</span><span class="err">Ôºà</span><span class="n">ÊâãÂä®Ê∑ªÂä†creatorÂ≠óÊÆµ</span><span class="err">Ôºâ</span>
</span></span><span class="line"><span class="cl">	<span class="mf">5.</span><span class="n">Ë∑≥ËΩ¨ÂõûÈ°µÈù¢</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/post/python/order_trading_platform/1732710963113-314dc788-1681-43e2-9691-c4a183b4f5d9.png"
	
	
	
	loading="lazy"
	
	
></p>
<h4 id="ÁºñËæëÂÆ¢Êà∑">ÁºñËæëÂÆ¢Êà∑
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">ÂíåÊ∑ªÂä†ÁöÑÈ°µÈù¢‰∏çÂêå</span><span class="err">Ôºå</span><span class="n">Êñ∞Âª∫‰∏Ä‰∏™form</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/post/python/order_trading_platform/1732711225774-04e3868a-9b09-4708-aaf3-52854942af3d.png"
	
	
	
	loading="lazy"
	
	
></p>
<h4 id="ÈáçÁΩÆÂØÜÁ†Å">ÈáçÁΩÆÂØÜÁ†Å
</h4><p><img src="/post/python/order_trading_platform/1732711342983-96fffb37-2bfa-4a82-9f27-951a787cc325.png"
	
	
	
	loading="lazy"
	
	
></p>
<h4 id="Âà†Èô§ÂÆ¢Êà∑ÂØπËØùÊ°ÜÂíåajax">Âà†Èô§ÂÆ¢Êà∑ÔºàÂØπËØùÊ°ÜÂíåajaxÔºâ
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">Ê®°ÊÄÅÂØπËØùÊ°ÜÁöÑËß¶ÂèëÊñπÂºè</span>
</span></span><span class="line"><span class="cl">	<span class="mf">1.</span><span class="n">data</span><span class="o">-</span><span class="n">targetÂ±ûÊÄß</span>
</span></span><span class="line"><span class="cl">	<span class="mf">2.</span><span class="n">ÁªëÂÆöÁÇπÂáªÂáΩÊï∞</span>
</span></span><span class="line"><span class="cl">	<span class="mf">3.</span><span class="n">‰∏ÄÈîÆÁªëÂÆö</span>
</span></span><span class="line"><span class="cl"><span class="n">Âà†Èô§ÈÄªËæëÂÆûÁé∞</span>
</span></span><span class="line"><span class="cl"><span class="n">Âà†Èô§ÊàêÂäüÂêéÈ°µÈù¢Â§ÑÁêÜ</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/post/python/order_trading_platform/1732711493928-3f4e65ca-4047-407d-84b2-5231701ab74f.png"
	
	
	
	loading="lazy"
	
	
></p>
<h4 id="‰∫§ÊòìËÆ∞ÂΩïÂàóË°®">‰∫§ÊòìËÆ∞ÂΩïÂàóË°®
</h4><p>ËßÜÂõæÂáΩÊï∞</p>
<p><img src="/post/python/order_trading_platform/1732712848306-c24732ba-3439-4ea0-b420-d480c5ca046a.png"
	
	
	
	loading="lazy"
	
	
></p>
<p>Ê®°Êùø</p>
<p>ÂÖÖÂÄºÊâ£Ê¨æÊ∑ªÂä†È¢úËâ≤</p>
<p><img src="/post/python/order_trading_platform/1732713412511-d3341d19-c1d6-409a-96ac-a5a82e8411ed.png"
	
	
	
	loading="lazy"
	
	
></p>
<p><img src="/post/python/order_trading_platform/1732713612510-d8e3a230-7f2d-489a-9f70-fd4e2b088751.png"
	
	
	
	loading="lazy"
	
	
></p>
<h4 id="ÂÖÖÂÄºÂíåÊâ£Ê¨æÂØπËØùÊ°Ü">ÂÖÖÂÄºÂíåÊâ£Ê¨æÔºàÂØπËØùÊ°ÜÔºâ
</h4><p>Ê®°Êùø</p>
<h4 id=""><img src="/post/python/order_trading_platform/1732714253476-a85ee918-3e85-4bc0-9420-fb090b70999e.png"
	
	
	
	loading="lazy"
	
	
>
</h4><p>ËßÜÂõæÂáΩÊï∞</p>
<p><img src="/post/python/order_trading_platform/1732714421549-44c80ea4-589a-4a96-ad9d-da9030ba1ddd.png"
	
	
	
	loading="lazy"
	
	
></p>
<h3 id="‰ª∑Ê†ºÁ≠ñÁï•">‰ª∑Ê†ºÁ≠ñÁï•
</h3><p><img src="/post/python/order_trading_platform/1732714728946-9c197fdf-ae64-4434-ba7b-09a3ef0dc039.png"
	
	
	
	loading="lazy"
	
	
></p>
<h4 id="‰ª∑Ê†ºÁ≠ñÁï•ÂàóË°®">‰ª∑Ê†ºÁ≠ñÁï•ÂàóË°®
</h4><p><img src="/post/python/order_trading_platform/1732717257949-47129a3d-c95d-40fb-b862-0417156dd829.png"
	
	
	
	loading="lazy"
	
	
></p>
<h4 id="Êñ∞Âª∫‰ª∑Ê†ºÁ≠ñÁï•">Êñ∞Âª∫‰ª∑Ê†ºÁ≠ñÁï•
</h4><p><img src="/post/python/order_trading_platform/1732717308086-c7ff3823-ce95-4f3a-9a53-22d7198b86e5.png"
	
	
	
	loading="lazy"
	
	
></p>
<h4 id="ÁºñËæë‰ª∑Ê†ºÁ≠ñÁï•">ÁºñËæë‰ª∑Ê†ºÁ≠ñÁï•
</h4><p><img src="/post/python/order_trading_platform/1732717332909-5f7038ac-971f-4617-a7f6-cd389653e85b.png"
	
	
	
	loading="lazy"
	
	
></p>
<h4 id="Âà†Èô§‰ª∑Ê†ºÁ≠ñÁï•">Âà†Èô§‰ª∑Ê†ºÁ≠ñÁï•
</h4><p><img src="/post/python/order_trading_platform/1732717354155-23522bb7-dd9a-4e67-ad94-246b54868123.png"
	
	
	
	loading="lazy"
	
	
></p>
<h3 id="ËÆ¢ÂçïÁÆ°ÁêÜÁî®Êà∑">ËÆ¢ÂçïÁÆ°ÁêÜÔºàÁî®Êà∑Ôºâ
</h3><ul>
<li>ÊàëÁöÑËÆ¢ÂçïÂàóË°®</li>
<li>‰∏ãÂçï
<ul>
<li>ËæìÂÖ•ÔºöËßÜÈ¢ëÂú∞ÂùÄ„ÄÅÊï∞ÈáèÔºàÊèêÁ§∫‰ª∑Ê†ºÁ≠ñÁï•Ôºâ</li>
<li>Êï∞ÊçÆÂ∫ìÊìç‰ΩúÔºà‰∫ãÂä° + ÈîÅÔºâ
<ul>
<li>ÂàõÂª∫ËÆ¢ÂçïËÆ∞ÂΩï</li>
<li>ÂàõÂª∫‰∫§ÊòìËÆ∞ÂΩï</li>
<li>Êâ£Ê¨æ</li>
</ul>
</li>
<li>ÂÜôÂÖ•redisÈòüÂàóÔºàÁ≠âÂæÖÊâßË°åÔºâ</li>
</ul>
</li>
<li>Êí§ÈîÄËÆ¢ÂçïÔºàÂæÖÊâßË°åÔºâ
<ul>
<li>Êï∞ÊçÆÂ∫ìÊìç‰Ωú
<ul>
<li>Êõ¥Êñ∞ËÆ¢ÂçïÁä∂ÊÄÅ</li>
<li>ÁîüÊàê‰∫§ÊòìËÆ∞ÂΩï</li>
<li>ÂΩíËøòÊâ£Ê¨æ</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img src="/post/python/order_trading_platform/1732717529916-4ea32a05-7e7e-4c35-9eb6-9721c26572bb.png"
	
	
	
	loading="lazy"
	
	
></p>
<h4 id="ÊàëÁöÑËÆ¢ÂçïÂàóË°®">ÊàëÁöÑËÆ¢ÂçïÂàóË°®
</h4><p><img src="/post/python/order_trading_platform/1732718252013-ebb91e8a-6f34-497c-865f-c6d0715ae7bf.png"
	
	
	
	loading="lazy"
	
	
></p>
<p>message</p>
<h4 id="Êñ∞Âª∫ËÆ¢Âçï">Êñ∞Âª∫ËÆ¢Âçï
</h4><p><img src="/post/python/order_trading_platform/1732718673191-5cf5603c-69fe-477c-9d2f-283a4b6d1237.png"
	
	
	
	loading="lazy"
	
	
></p>
<p><img src="/post/python/order_trading_platform/1732718836457-70e387e0-141e-4175-8e55-25a7363eb655.png"
	
	
	
	loading="lazy"
	
	
></p>
<h4 id="Êí§ÈîÄËÆ¢Âçï">Êí§ÈîÄËÆ¢Âçï
</h4><p><img src="/post/python/order_trading_platform/1732721178721-88384401-a19f-446d-9661-d957c2b2c46d.png"
	
	
	
	loading="lazy"
	
	
></p>
<h3 id="ÊàëÁöÑ‰∫§ÊòìËÆ∞ÂΩï">ÊàëÁöÑ‰∫§ÊòìËÆ∞ÂΩï
</h3><p><img src="/post/python/order_trading_platform/1732721310752-098e3751-9820-412c-a3ef-8a2e8a511fed.png"
	
	
	
	loading="lazy"
	
	
></p>
<h4 id="ÂÆ¢Êà∑">ÂÆ¢Êà∑
</h4><p><img src="/post/python/order_trading_platform/1732721442476-eef3795d-2b96-4160-8345-2d9c8ba09d53.png"
	
	
	
	loading="lazy"
	
	
></p>
<p><img src="/post/python/order_trading_platform/1732721550932-6d819b16-6653-4b80-b620-9b6d40c1af7d.png"
	
	
	
	loading="lazy"
	
	
></p>
<h4 id="ÁÆ°ÁêÜÂëò">ÁÆ°ÁêÜÂëò
</h4><p><img src="/post/python/order_trading_platform/1732721666199-d74a8162-588c-4425-85b4-32366ad50ab1.png"
	
	
	
	loading="lazy"
	
	
></p>
<p>Ê®°Êùø‰∏éÂÆ¢Êà∑Êó†ÂºÇ</p>
<h3 id="worker">Worker
</h3><p><img src="/post/python/order_trading_platform/1732721732393-6b533304-9dd0-41fa-b251-04ab2f9b2bcb.png"
	
	
	
	loading="lazy"
	
	
></p>
<p>ÊâßË°åworkerÂéªÊâßË°åËÆ¢ÂçïÁöÑÊâßË°å„ÄÇ</p>
</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/tags/django/">Django</a>
        
            <a href="/tags/python/">Python</a>
        
    </section>


    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    </footer>


    
</article>

    

    

<aside class="related-content--wrapper">
    <h2 class="section-title">Áõ∏ÂÖ≥ÊñáÁ´†</h2>
    <div class="related-content">
        <div class="flex article-list--tile">
            
                
<article class="">
    <a href="/p/drf/">
        
        

        <div class="article-details">
            <h2 class="article-title">Drf</h2>
        </div>
    </a>
</article>

            
                
<article class="">
    <a href="/p/django/">
        
        

        <div class="article-details">
            <h2 class="article-title">Django</h2>
        </div>
    </a>
</article>

            
        </div>
    </div>
</aside>

     
    
        
    <script src="https://utteranc.es/client.js" 
        repo="yn0t1me/blog-commnet"
        issue-term="pathname"
        
        label="utterances"
        
        crossorigin="anonymous"
        async
        >
</script>

<style>
    .utterances {
        max-width: unset;
    }
</style>

<script>
    let utterancesLoaded = false;

    function setUtterancesTheme(theme) {
        let utterances = document.querySelector('.utterances iframe');
        if (utterances) {
            utterances.contentWindow.postMessage(
                {
                    type: 'set-theme',
                    theme: `github-${theme}`
                },
                'https://utteranc.es'
            );
        }
    }

    addEventListener('message', event => {
        if (event.origin !== 'https://utteranc.es') return;

        
        utterancesLoaded = true;
        setUtterancesTheme(document.documentElement.dataset.scheme)
    });

    window.addEventListener('onColorSchemeChange', (e) => {
        if (!utterancesLoaded) return;
        setUtterancesTheme(e.detail)
    })
</script>


    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2020 - 
        
        2025 yn0t1me
    </section>
    
    <section class="powerby">
        ‰ΩøÁî® <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> ÊûÑÂª∫ <br />
        ‰∏ªÈ¢ò <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.30.0">Stack</a></b> Áî± <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a> ËÆæËÆ°
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
